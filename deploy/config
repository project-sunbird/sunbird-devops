## Mandatory
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
# Fields mentioned below are basic prerequisites for working ofsunbird
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#

#Basic
env:                                # Name of the environment you are deploying. Typically, it is one of development, test, staging, production, etc.
implementation_name:                # Name of your sunbird implementation. Let's say for the sake of this document, it is ntp. 
ssh_ansible_user:                   # Ssh user for accessing all servers, who must be a sudo user
sudo_passwd:                        # If user have sudo password, else please skip it
ansible_private_key_path:           # Path to the private key file to allow ansible to deploy
proxy_prometheus: false             # Please set this variable to true if you want to use monitoring 

#Application
application_host:                   # Private ip of the application server
app_address_space:                  # Application server address space (e.g. 10.3.0.0/24)

#Proxy
dns_name:                           # Public DNS url of the app the server / ip address of your server or load balancer
proto:                              # http/https; if you're usig ip use http
cert_path:                          # Path to .cert file for nginx
key_path:                           # Path to .key file for nginx

#Database
database_host:                      # Db server private ip 
database_password:                  # Common password for all the databases
 
#Ekstep 
ekstep_api_base_url:                # Qa: https://qa.ekstep.in/api & prod: https://api.ekstep.in
ekstep_proxy_base_url:              # Qa: https://qa.ekstep.in  & prod: https://community.ekstep.in   

sunbird_auth_token:                 # JWT token generated by ansible, you can get it from ~/jwt.txt.
ekstep_api_key:                     # Jwt token generated by the key,secret produced from the ekstep portal.
                                    # Please go through this url for more about jwt:
                                    # https://community.ekstep.in/developer-knowledgebase/45-getting-started-with-apis
#Keycloak 
keycloak_admin_password:            # Keycloak admin console password 
sso_password:                       # Password for keycloak sso_username (by default username is user-manager, you can change it in keycloak ui)
trampoline_secret:                  # Trampoline secret, atleaset give 8 chars 

sunbird_image_storage_url:          #azure storage url ex: https://sunbirdtest.blob.core.windows.net/dial/
sunbird_azure_storage_key:          #azure account storage key
sunbird_azure_storage_account:      #azure account storage name

# Es configs
backup_storage_name: 
backup_storage_key: 
es_etc_cluster_name: 

sunbird_content_service_producer_id: 
vault_badging_authorization_key:        #Authorization genrated from the badger service

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#


## Advanced config

elasticsearch_host: 
cassandra_host: 
postgres_master_host: 
postgres_slave_host: 
swarm_manager_host: 
swarm_node_host: 
keycloak_host: 
log_es_host: 

sunbird_telemetry_pdata_id:           #some telemetry id which should available in ekstep 
sunbird_installation_email:     



sunbird_telemetry_pdata_id:           #some telemetry id which should available in ekstep 
sunbird_content_service_producer_id: 
sunbird_installation_email:     
sunbird_image_storage_url:      #azure storage url ex: https://sunbirdtest.blob.core.windows.net/dial/
sunbird_azure_storage_key:      #azure account storage key
sunbird_azure_storage_account: #azure account storage name
vault_badging_authorization_key: #Authorization genrated from the badger service

#Logging   (mandatory fields if logging is required)
vault_google_client_id:       #google oauth client id 
vault_google_client_secret:    #google oauth client secret
vault_cookie_secret:           #google oauth cookie secret
kibana_access_domain_list:     #kibana access for all the users with this domain
kibana_access_mail_list:       #kibana access for the mentioned users



#Monitoring (mandatory fields if monitoring is required) 
mail_server_host: #mail server host ex: smtp.sendgrid.net
mail_server_port: #mail server host ex: 587
mail_server_username: #username
mail_server_password: #password
vault_postgres_exporter_password: #password for the postgres exporter password
grafana_admin_password:  #grafana admin password
backup_storage_name: #storage_name
backup_storage_key:  #backup storage key 
monitor_alerts_slack_url: #slack webhook url 
monitor_alerts_slack_channel: #slack channel for alerts
alerts_mailing_list:  #list of user mail id's who need alerts.
kong__test_jwt:  #kong test jwt token 
vault_proxy_prometheus_admin_creds: 

#es config:
es_etc_node_datagroups['es']:
es_api_host: "{{elasticsearch_host if elasticsearch_host else database_host}}"
es_heap_size: 1500m
es_etc_discovery_zen_minimum_master_nodes: 1
es_snapshot_host: "{{ groups['es'][0] }}"
es_restore_host: "{{ groups['es'][0] }}"
snapshot_base_path: application
