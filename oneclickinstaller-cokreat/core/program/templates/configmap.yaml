apiVersion: v1
kind: ConfigMap
metadata:
 creationTimestamp: null
 name: {{ .Chart.Name }}-config
 namespace: {{ .Release.namespace }}
data:
  dock_base_url: {{ .Values.domain }}
#  CORE_INGRESS_GATEWAY_IP: {{ (lookup "v1" "Service" "dev" "nginx-public-ingress").spec.ExternalIP }}  
  CORE_INGRESS_GATEWAY_IP: {{ .Values.CORE_INGRESS_GATEWAY_IP }} # Ed Public ingress IP
  content_service_url: {{.Values.content_service_url }}
  dock_channel: {{ .Values.sunbird_sso_realm }}
  dock_kafka_host: {{ .Values.sunbird_kafka_host }}
  dock_redis_host: {{ .Values.inquiry_redis_host }}
  learner_service_url: {{ .Values.learner_service_url }}
  learning_service_url: {{ .Values.learning_service_base_url }}
  opensaber_service_url: {{ .Values.opensaber_service_url }}
  sunbird_api_auth_token: {{ .Values.core_vault_sunbird_api_auth_token }}
  sunbird_assessment_service_base_url: {{ .Values.sunbird_assessment_service_base_url }}
  sunbird_auto_creation_topic: {{ .Values.sunbird_auto_creation_topic }}
  sunbird_base_url: {{ .Values.merge_domain }}
  sunbird_google_oauth_client_email: {{ .Values.sunbird_google_oauth_clientId }}
  sunbird_google_oauth_private_key: {{ .Values.sunbird_google_oauth_clientSecret }} 
  sunbird_kafka_bulkupload_consumer_group_id: {{ .Values.sunbird_kafka_bulkupload_consumer_group_id }}
  sunbird_kafka_host: {{ .Values.sunbird_kafka_host }}
  sunbird_program_db_dialect: {{ .Values.sunbird_pg_user }}
  sunbird_program_db_host: {{ .Values.sunbird_pg_host }}
  sunbird_program_db_name: {{ .Values.sunbird_program_db_name}}
  sunbird_program_db_password: {{ .Values.sunbird_pg_password }}
  sunbird_program_db_pool: {{ .Values.sunbird_program_db_pool | quote }}
  sunbird_program_db_port: {{ .Values.sunbird_program_db_port | quote }}
  sunbird_program_db_user: {{ .Values.sunbird_pg_user }}
  sunbird_program_port: {{ .Values.sunbird_program_port | quote }}
  sunbird_question_bulkupload_topic: {{ .Values.sunbird_question_bulkupload_topic }}
  sunbird_service_log_level: {{ .Values.sunbird_service_log_level }}
  telemetry_service_endpoint: {{ .Values.telemetry_service_endpoint }}
  telemetry_service_host: {{ .Values.telemetry_service_host }}
