apiVersion: v1
kind: ConfigMap
metadata:
 creationTimestamp: null
 name: {{ .Chart.Name }}-config
 namespace: {{ .Values.namespace }}
data:
  AZURE_STORAGE_ACCOUNT: {{ if .Values.cloud_public_storage_accountname }}
  {{- .Values.cloud_public_storage_accountname }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_accountname\"" .Chart.Name | fail }}
  {{- end }}
  AZURE_STORAGE_KEY: {{ if .Values.cloud_public_storage_secret }}
  {{- .Values.cloud_public_storage_secret }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_secret\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_azure_account_name: {{ if .Values.cloud_public_storage_accountname }}
  {{- .Values.cloud_public_storage_accountname }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_accountname\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_azure_account_key: {{ if .Values.cloud_public_storage_secret }}
  {{- .Values.cloud_public_storage_secret }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_secret\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_keycloak_public_key: {{ if .Values.sunbird_sso_publickey }}
  {{- .Values.sunbird_sso_publickey }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_sso_publickey\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_cloud_storage_key: {{ if .Values.cloud_public_storage_accountname }}
  {{- .Values.cloud_public_storage_accountname }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_accountname\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_cloud_storage_secret: {{ if .Values.cloud_public_storage_secret }}
  {{- .Values.cloud_public_storage_secret }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"cloud_public_storage_secret\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_portdesktop_app_storage_urlal_base_url: {{ if .Values.cloud_public_storage_accountname }}
  {{- printf "https://%s.blob.core.windows.net/" .Values.cloud_public_storage_accountname }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_portdesktop_app_storage_urlal_base_url\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_accessibility_guidelines_url: {{ if .Values.domain }}
  {{- printf "https://%s/contribute/help" .Values.domain }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_accessibility_guidelines_url\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_cloud_storage_urls: {{ if .Values.cloud_public_storage_accountname }}
  {{- printf "https://%s.blob.core.windows.net/%s/" .Values.cloud_public_storage_accountname .Values.cloud_public_storage_container }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_cloud_storage_urls\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_dataservice_url: {{ if .Values.domain }}
  {{- printf "https://%s/api/" .Values.domain }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_dataservice_url\"" .Chart.Name | fail }}
  {{- end }}
  portal_cloud_storage_url: {{ if .Values.cloud_public_storage_accountname }}
  {{- printf "https://%s.blob.core.windows.net/content-service/" .Values.cloud_public_storage_accountname }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"portal_cloud_storage_url\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_device_register_api: {{ if .Values.domain }}
  {{- printf "https://api.%s/v3/device/register/" .Values.domain }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_device_register_api\"" .Chart.Name | fail }}
  {{- end }}
  sunbird_echo_api_url: {{ if .Values.sunbird_content_player_url }}
  {{- printf "%s" .Values.sunbird_content_player_url }}
  {{- else -}}
  {{- printf "ERROR | %s | Please provide a value for \"sunbird_echo_api_url\"" .Chart.Name | fail }}
  {{- end }}
  config_refresh_interval: "{{ .Values.config_refresh_interval  }}"
  config_service_enabled: "{{ .Values.config_service_enabled  }}"
  crypto_encryption_key_external: "{{ .Values.crypto_encryption_key_external }}"
  dock_api_auth_token: "{{ .Values.dock_api_auth_token }}"
  dock_api_call_log_status: "{{ .Values.dock_api_call_log_status }}"
  sunbird_cloud_storage_provider: "{{ .Values.cloud_service_provider }}"
  sunbird_cloud_storage_region: "{{ .Values.sunbird_cloud_storage_region }}"
  sunbird_collection_children_limit: "{{ .Values.sunbird_collection_children_limit }}"
  sunbird_collectionEditorURL: "{{ .Values.sunbird_collectionEditorURL }}"
  sunbird_config_service_url: "{{ .Values.sunbird_config_service_url }}"
  sunbird_content_player_url: "{{ .Values.sunbird_content_player_url }}"
  sunbird_content_proxy_url: "{{ .Values.sunbird_content_proxy_url }}"
  sunbird_contentEditorURL: "{{ .Values.sunbird_contentEditorURL }}"
  sunbird_contextual_help_config: {{ .Values.sunbird_contextual_help_config | toJson }}
  sunbird_data_product_service: "{{ .Values.sunbird_content_player_url }}"
  sunbird_default_channel: "{{ .Values.sunbird_default_channel }}"
  sunbird_device_api: "{{ .Values.sunbird_content_player_url }}"
  sunbird_device_register_api: "{{ .Values.sunbird_device_register_api }}"
  dock_default_file_size: "{{ .Values.dock_default_file_size  }}"
  dock_default_video_size: "{{ .Values.dock_default_video_size  }}"
  dock_program_service_url: "{{ .Values.dock_program_service_url }}"
  dock_questionSet_enable: "{{ .Values.dock_questionSet_enable }}"
  ekstep_env: "{{ .Values.ekstep_env }}"
  google_captcha_private_key: "{{ .Values.google_captcha_private_key }}"
  opensaber_service_url: "{{ .Values.opensaber_service_url }}"
  reportsListVersion: "{{ .Values.reportsListVersion }}"
  sunbird_android_app_url: "{{ .Values.sunbird_android_app_url }}"
  sunbird_android_keycloak_client_id: "{{ .Values.sunbird_android_keycloak_client_id }}"
  sunbird_api_auth_token: "{{ .Values.core_vault_sunbird_api_auth_token }}"
  sunbird_api_request_timeout: "{{ .Values.sunbird_api_request_timeout }}"
  sunbird_autocreate_trampoline_user: "{{ .Values.sunbird_autocreate_trampoline_user }}"
  sunbird_azure_report_container_name: "{{ .Values.sunbird_azure_report_container_name }}"
  sunbird_base_proto: "{{ .Values.sunbird_base_proto }}"
  sunbird_bot_configured: "{{ .Values.sunbird_bot_configured }}"
  sunbird_bot_service_URL: "{{ .Values.sunbird_bot_service_URL }}"
  sunbird_build_number: "{{ .Values.sunbird_build_number }}"
  sunbird_bulk_upload_description_length: "{{ .Values.sunbird_bulk_upload_description_length }}"
  sunbird_bulk_upload_name_length: "{{ .Values.sunbird_bulk_upload_name_length }}"
  sunbird_cassandra_consistency_level: "{{ .Values.sunbird_cassandra_consistency_level }}"
  sunbird_cassandra_replication_strategy: {{ .Values.sunbird_cassandra_replication_strategy | toJson }}
  sunbird_cassandra_urls: "{{ .Values.inquiry_cassandra_connection }}"
  sunbird_cloud_report_container: "{{ .Values.sunbird_cloud_report_container }}"
  sunbird_cloud_storage_container: "{{ .Values.sunbird_cloud_storage_container }}"
  sunbird_default_channel: "{{ .Values.sunbird_default_channel }}"
  sunbird_device_api: "{{ .Values.sunbird_content_player_url }}"
  sunbird_enable_api_whitelist: "{{ .Values.sunbird_enable_api_whitelist }}"
  sunbird_enable_permission_check: "{{ .Values.sunbird_enable_permission_check }}"
  sunbird_enable_signup: "{{ .Values.sunbird_enable_signup }}"
  sunbird_enable_sso: "{{ .Values.sunbird_enable_sso }}"
  sunbird_environment: "{{ .Values.ekstep_env }}"
  sunbird_ext_plugin_url: "{{ .Values.sunbird_ext_plugin_url }}"
  sunbird_external_content_whitelisted_domains: "{{ .Values.sunbird_external_content_whitelisted_domains }}"
  sunbird_gcloud_project_id: "{{ .Values.sunbird_gcloud_project_id }}"
  sunbird_genericEditorURL: "{{ .Values.sunbird_genericEditorURL }}"
  sunbird_google_android_keycloak_client_id: "{{ .Values.sunbird_google_android_keycloak_client_id }}"
  sunbird_google_android_keycloak_secret: "{{ .Values.sunbird_google_android_keycloak_secret }}"
  sunbird_google_captcha_site_key: "{{ .Values.core_vault_sunbird_google_captcha_site_key_portal }}"
  sunbird_google_keycloak_client_id: "{{ .Values.sunbird_google_keycloak_client_id }}"
  sunbird_google_keycloak_secret: "{{ .Values.sunbird_google_keycloak_secret }}"
  sunbird_google_oauth_clientId: "{{ .Values.sunbird_google_oauth_clientId }}"
  sunbird_google_oauth_clientSecret: "{{ .Values.sunbird_google_oauth_clientSecret }}"
  sunbird_health_check_enable: "{{ .Values.sunbird_health_check_enable }}"
  sunbird_help_link_visibility: "{{ .Values.sunbird_help_link_visibility }}"
  sunbird_instance: "{{ .Values.sunbird_instance }}"
  sunbird_kong_refresh_token_api: https://{{ .Values.merge_domain }}/auth/v1/refresh/token
  sunbird_kp_assessment_service_base_url: "{{ .Values.sunbird_kp_assessment_service_base_url }}"
  sunbird_kp_content_service_base_url: "{{ .Values.content_service_url }}"
  sunbird_kp_learning_service_base_url: "{{ .Values.learning_service_base_url }}"
  sunbird_learner_player_url: http://{{ .Values.nginx_ed_private_ingress_ip}}/api/
  sunbird_learner_url: http://{{ .Values.nginx_ed_private_ingress_ip}}/learner/
  sunbird_p1_reCaptcha_enabled: "{{ .Values.sunbird_p1_reCaptcha_enabled }}"
  sunbird_p2_reCaptcha_enabled: "{{ .Values.sunbird_p2_reCaptcha_enabled }}"
  sunbird_p3_reCaptcha_enabled: "{{ .Values.sunbird_p3_reCaptcha_enabled }}"
  sunbird_phraseApp_token: "{{ .Values.sunbird_phraseApp_token }}"
  sunbird_port: "{{ .Values.sunbird_port }}"
  sunbird_portal_auth_server_client: "{{ .Values.sunbird_portal_auth_server_client }}"
  sunbird_portal_auth_server_url: https://{{ .Values.merge_domain }}/auth
  sunbird_portal_base_url: https://{{.Values.domain }}
  sunbird_portal_cdn_blob_url: "{{ .Values.sunbird_portal_cdn_blob_url }}"
  sunbird_portal_cdn_url: "{{ .Values.sunbird_portal_cdn_url }}"
  sunbird_portal_log_level: "{{ .Values.sunbird_portal_log_level }}"
  sunbird_portal_merge_auth_server_url: "{{ .Values.sunbird_portal_merge_auth_server_url }}"
  sunbird_portal_offline_app_download_url: https://{{ .Values.domain }}/
  sunbird_portal_offline_app_release_date: "{{ .Values.sunbird_portal_offline_app_release_date }}"
  sunbird_portal_offline_app_version: "{{ .Values.sunbird_portal_offline_app_version }}"
  sunbird_portal_offline_supported_languages: "{{ .Values.sunbird_portal_offline_supported_languages }}"
  sunbird_portal_offline_tenant: "{{ .Values.sunbird_portal_offline_tenant }}"
  sunbird_portal_player_cdn_enabled: "{{.Values.sunbird_portal_player_cdn_enabled }}"
  sunbird_portal_preview_cdn_url: "{{ .Values.sunbird_portal_preview_cdn_url }}"
  sunbird_portal_realm: "{{ .Values.sunbird_portal_realm }}"
  sunbird_portal_slugForProminentFilter: "{{ .Values.sunbird_portal_slugForProminentFilter }}"
  sunbird_portal_title_name: "{{ .Values.sunbird_portal_title_name }}"
  sunbird_portal_updateLoginTimeEnabled: "{{ .Values.sunbird_portal_updateLoginTimeEnabled }}"
  sunbird_portal_url: https://{{.Values.domain }}/api/  
  sunbird_portal_user_upload_ref_link: "{{ .Values.sunbird_portal_user_upload_ref_link }}"
  sunbird_processing_kafka_host: "{{ .Values.inquiry_kafka_urls }}"
  sunbird_questionset_children_limit: "{{ .Values.sunbird_questionset_children_limit }}"
  sunbird_report_service_url: http://{{ .Values.sunbird_content_player_url }}/data/v1/report-service
  sunbird_response_cache_ttl: "{{ .Values.sunbird_response_cache_ttl }}"
  sunbird_send_reminder_enabled: "{{ .Values.sunbird_send_reminder_enabled }}"
  sunbird_session_store_type: "{{ .Values.sunbird_session_store_type }}"
  sunbird_session_ttl: "{{ .Values.sunbird_session_ttl }}"
  sunbird_sso_kafka_topic: "{{ .Values.sunbird_sso_kafka_topic }}"
  sunbird_super_admin_slug: "{{ .Values.sunbird_super_admin_slug }}"
  sunbird_telemetry_packet_size: "{{ .Values.sunbird_telemetry_packet_size }}"
  sunbird_tenant_cdn_url: "{{ .Values.sunbird_tenant_cdn_url }}"
  sunbird_trampoline_android_keycloak_client_id: "{{ .Values.sunbird_trampoline_android_keycloak_client_id }}"
  sunbird_trampoline_android_keycloak_secret: "{{ .Values.sunbird_trampoline_android_keycloak_secret }}"
  sunbird_trampoline_client_id: "{{ .Values.sunbird_trampoline_client_id }}"
  sunbird_trampoline_secret: "{{ .Values.sunbird_trampoline_secret }}"
  sunbird_transcript_file_format: "{{ .Values.sunbird_transcript_file_format }}"
  sunbird_transcript_required: "{{ .Values.sunbird_transcript_required }}"
  sunbird_transcript_supported_languages: {{ .Values.sunbird_transcript_supported_languages | toJson }}
  use_sunbird_kong_token: "{{ .Values.use_sunbird_kong_token }}"
  sunbird_portal_player_cdn_enabled: "{{ .Values.sunbird_portal_player_cdn_enabled }}"