# Service Config
# Port on which the service will listen to
PORT={{sl_assessments_port | default("7201")}} 

#Application ENV example local/dev/production
NODE_ENV={{sl_assessments_node_env}}

#Log configuration
#Enable console logging
ENABLE_DEBUG_LOGGING={{sl_assessments_enable_debug_logging | default("ON")}}

#Enable writing logs to a file
ENABLE_BUNYAN_LOGGING={{sl_assessments_enable_bunyan_logging | default("OFF")}}

#service based URL
APPLICATION_BASE_URL={{sl_assessments_application_base_url | default('/assessment/')}}

# Allow report request to run for longer time
request_timeout_for_reports={{sl_assessments_request_timeout_for_reports | default("600000")}}
AUTHORIZATION={{sl_assessments_authorization}}
MONGODB_URL={{sl_assessments_mongodb_url}}

## Cloud config
# Cloud Storage Configuration
CLOUD_STORAGE={{sl_assessments_cloud_storage}}

## Cloud Environment platform
# which will be templatized from the above variable (defaults)
{{ sl_assessments_cloud_config}} 

# Current in use database name   
DB={{sl_assessments_db}}

# Secure token access Admin related API's
# The value of internal access token can be generated by command - "openssl rand -hex 10"
INTERNAL_ACCESS_TOKEN={{sl_assessments_internal_access_token}}

# Disable learner service check
DISABLE_LEARNER_SERVICE_ON_OFF={{sl_assessments_disable_learner_service_on_off | default("ON")}}

# CSV Config
# Create the respective directory as provided in the path below
CSV_REPORTS_PATH={{sl_assessments_csv_reports_path | default("reports")}}
PUBLIC_FOLDER_PATH={{sl_assessments_public_folder_path | default("public")}}

# Kafka Configuration
KAFKA_COMMUNICATIONS_ON_OFF={{sl_assessments_kafka_communications_on_off | default("ON")}}
KAFKA_URL ={{sl_assessments_kafka_url}} 
COMPLETED_SUBMISSION_TOPIC={{sl_assessments_completed_submission_topic | default(env+".sl.submission.raw")}}
INCOMPLETE_SUBMISSION_TOPIC={{sl_assessments_incomplete_submission_topic | default(env+".sl.incomplete.submission.raw")}}
SUBMISSION_RATING_QUEUE_TOPIC={{sl_assessments_submission_rating_queue_topic | default(env+".sl.submission.rating.raw")}}
COMPLETED_OBSERVATION_SUBMISSION_TOPIC={{sl_assessments_completed_observation_submission_topic | default(env+".sl.observation.raw")}}
INCOMPLETE_OBSERVATION_SUBMISSION_TOPIC={{sl_assessments_incomplete_observation_submission_topic | default(env+".sl.incomplete.observation.raw")}}
NOTIFICATIONS_TOPIC={{sl_assessments_notifications_topic | default(env+".sl.notification.raw")}}
COMPLETED_SURVEY_SUBMISSION_TOPIC={{sl_assessments_completed_survey_submission_topic | default(env+".sl.survey.raw")}}
INCOMPLETE_SURVEY_SUBMISSION_TOPIC={{sl_assessments_incomplete_survey_submission_topic | default(env+".sl.incomplete.survey.raw")}}
KAFKA_ERROR_MESSAGES_TO_SLACK={{sl_assessments_kafka_error_messages_to_slack | default("ON")}}
KAFKA_GROUP_ID ={{sl_assessments_kafka_group_id | default("samiksha")}}


# Elastic search configurations 
ELASTICSEARCH_COMMUNICATIONS_ON_OFF={{sl_assessments_elasticsearch_communications_on_off | default("ON")}}
ELASTICSEARCH_HOST_URL={{sl_assessments_elasticsearch_host_url}}
ELASTIC_SEARCH_REQUEST_TIMEOUT={{sl_assessments_elastic_search_request_timeout | default("60000")}}
ELASTIC_SEARCH_MAX_RETRIES={{sl_assessments_elastic_search_max_retries | default("5")}}
ELASTIC_SEARCH_SNIFF_ON_START={{sl_assessments_elastic_search_sniff_on_start | default("true")}}
ELASTICSEARCH_USER_EXTENSION_INDEX={{sl_assessments_elasticsearch_user_extension_index}}
ELASTICSEARCH_USER_EXTENSION_INDEX_TYPE={{sl_assessments_elasticsearch_user_extension_index_type | default("common")}}
ELASTICSEARCH_ENTITIES_INDEX={{sl_assessments_elasticsearch_entities_index | default("entities")}}
ELASTICSEARCH_ENTITIES_INDEX_TYPE={{sl_assessments_elasticsearch_entities_index_type | default("common")}}

# KENDRA SERVICE
KENDRA_APPLICATION_ENDPOINT=http://kendra-service:7001

# OFFLINE TOKEN VALIDATION

#Enable offline validation of user token example ON/OFF
VALIDATE_ACCESS_TOKEN_OFFLINE={{sl_assessments_validate_access_token_offline | default("ON")}}

#Path to folder inside project root which has keycloack access key
KEYCLOAK_PUBLIC_KEY_PATH={{sl_assessments_keycloak_public_key_path)}}


# IMPROVEMENT PROJECT SERVICE

IMPROVEMENT_PROJECT_HOST=http://improvement-service:7301
IMPROVEMENT_PROJECT_BASE_URL={{sl_assessments_improvement_project_base_url}}
USE_USER_ORGANISATION_ID_FILTER={{sl_assessments_use_user_organisation_id_filter | default("ON")}}
APP_PORTAL_BASE_URL={{sl_assessments_app_portal_base_url}}

# PUSH SUBMISSION IN IMPROVEMENT SERVICE

IMPROVEMENT_PROJECT_SUBMISSION_TOPIC={{sl_assessments_improvement_project_submission_topic | default(env+".sl.improvement.project.submission")}}

# Unnati configurations
UNNATI_APPLICATION_HOST={{sl_assessments_unnati_application_host}}
UNNATI_APPLICATION_BASE_URL={{sl_assessments_unnati_application_base_url}}
