input {
  kafka {
    bootstrap_servers => "{{sunbird_telemetry_kafka_servers}}"
    codec => "json"
    topics => ["{{sunbird_telemetry_kafka_topic}}"]
    retry_backoff_ms => 180000
  }
}
output {
  kafka {
    codec => json
    topic_id => "{{sunbird_data_pipeline_kafka_topic}}"
    bootstrap_servers => "{{sunbird_data_pipeline_kafka_servers}}"
  }
  http {
    url => "{{sunbird_telemetry_api}}"
    content_type => "application/json"
    http_method => "post"
    format => "json"
    headers => ["authorization","bearer {{sunbird_ekstep_api_key}}"]
    retry_failed => true
    retryable_codes => [503, 502, 429, 401]
  }
}
