# ML Survey Service Config
# Application port number which the service will listen to
APPLICATION_PORT={{ml_survey_port | default("3000")}} 

#Application ENV example local/dev/production
APPLICATION_ENV={{ml_survey_node_env|default("development")}}

# Mongodb connection url
MONGODB_URL={{ml_survey_mongodb_url | default(groups['mongo_master'][0]+':27017')}}

# Base url of the sunbird enviornment
USER_SERVICE_URL={{ml_survey_user_service_URL | default("http://learner-service:9000")}}

# Secure token access Admin related API's
# The value of internal access token can be generated by command - "openssl rand -hex 10"
INTERNAL_ACCESS_TOKEN={{ml_survey_internal_access_token}}

# Kafka Configuration
# Flag which define where communication with kafka is on or off 
KAFKA_COMMUNICATIONS_ON_OFF={{ml_survey_kafka_communications_on_off | default("ON")}}

# IP address of kafka server with port without HTTP
KAFKA_URL={{ml_survey_kafka_url | default(groups['processing-cluster-kafka'][0]+':9092')}}

# Kafka topic name for pushing submissions for which rating has to be done
SUBMISSION_RATING_QUEUE_TOPIC={{ml_survey_submission_rating_queue_topic | default (env+".sl.submission.rating.raw")}}

# Kafka topic name for pushing completed observation submission
COMPLETED_OBSERVATION_SUBMISSION_TOPIC={{ml_survey_completed_observation_submission_topic | default (env+".sl.observation.raw")}}

# Kafka topic name for pushing incomplete observation submission
INCOMPLETE_OBSERVATION_SUBMISSION_TOPIC={{ml_survey_incomplete_observation_submission_topic | default (env+".sl.incomplete.observation.raw")}}

# Kafka topic name for completed survey submission
COMPLETED_SURVEY_SUBMISSION_TOPIC={{ml_survey_completed_survey_submission_topic | default (env+".sl.survey.raw")}}

# Kafka topic name for incomplete survey submission
INCOMPLETE_SURVEY_SUBMISSION_TOPIC={{ml_survey_incomplete_survey_submission_topic | default (env+".sl.incomplete.observation.raw")}}

# Kafka consumer group for ML Survey Service
KAFKA_GROUP_ID={{ml_survey_kafka_group_id | default (env+"samiksha")}}

#  Kafka topic name for pushing project submission related data
IMPROVEMENT_PROJECT_SUBMISSION_TOPIC={{ml_survey_improvement_project_submission_topic | default(env+".sl.improvement.project.submission")}}

# Elastic search configurations 
# Elastic search enable/disable flag E.g. ON/OFF
ELASTICSEARCH_COMMUNICATIONS_ON_OFF={{ml_survey_elasticsearch_communications_on_off | default("ON")}}

# Elastic search host url
ELASTICSEARCH_HOST_URL={{ml_survey_elasticsearch_host_url | default("http://"+(groups['es7'][0]+':9200'))}}

# Flag to obtain ES Nodes list at the time of connection e.g. true/false
ELASTIC_SEARCH_SNIFF_ON_START={{ml_survey_elastic_search_sniff_on_start | default ("true")}}

# Elastic search index name for storing entity data
ELASTICSEARCH_ENTITIES_INDEX={{ml_survey_elasticsearch_user_extension_index_type | default ("common")}}

# ML Core Service URL
ML_CORE_SERVICE_URL={{ml_core_service_url | default("http://ml-core-service:3000")}}

## IMPROVEMENT PROJECT SERVICE
# Project Service URL
ML_PROJECT_SERVICE_URL={{ml_project_service_url | default("http://ml-project-service:3000")}}

#Path to folder inside project root which has keycloack access key
KEYCLOAK_PUBLIC_KEY_PATH={{ml_survey_keycloak_public_key_path|default("keycloak-public-keys")}}
