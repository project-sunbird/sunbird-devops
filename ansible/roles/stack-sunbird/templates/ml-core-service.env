# ML core Service Config

# Port on which the service will listen to
APPLICATION_PORT={{ml_core_port|default("3000")}} 

#Application ENV example local/dev/production
APPLICATION_ENV={{ml_core_node_env|default("development")}}

# Setting to turn on/off console logs
ENABLE_CONSOLE_LOGGING={{ml_core_enable_debug_logging | default("OFF")}}

# Mongo DB Configuration
MONGODB_URL={{ml_core_mongodb_url | default(groups['mongo_master'][0]+':27017')}}

# Secure token access Admin related API's
# The value of internal access token can be generated by command - "openssl rand -hex 10
INTERNAL_ACCESS_TOKEN={{ml_core_internal_access_token}}

#Gotenberg configuration
GOTENBERG_SERVICE_URL={{ml_gotenberg_url | default("http://gotenberg:3000")}}

## Cloud Environment platform
# which will be templatized from the above variable (default)

# Cloud configuration for assesment service
# Options available
#
## Azure Cloud Configuration
#
#  CLOUD_STORAGE=AZURE
#  AZURE_ACCOUNT_NAME=
#  AZURE_ACCOUNT_KEY=
#  AZURE_STORAGE_CONTAINER=
#
## Google Cloud Configuration
#
#  CLOUD_STORAGE=GCP
#  GCP_PATH=
#  GCP_BUCKET_NAME=
#
## AWS Cloud Configuration
#
#  CLOUD_STORAGE=AWS
#  AWS_ACCESS_KEY_ID=
#  AWS_SECRET_ACCESS_KEY=
#  AWS_BUCKET_NAME=
#  AWS_BUCKET_ENDPOINT=
#  AWS_BUCKET_REGION=
# To change the cloud config for azure, override below variable in common.yaml
# For Example, 
# ml_survey_cloud_config: |
#   CLOUD_STORAGE=AZURE
#   AZURE_ACCOUNT_NAME=mystorageaccount
#   AZURE_ACCOUNT_KEY=xx123supersecretpassword
#   AZURE_STORAGE_CONTAINER=slassessmentscontainer

{{ml_cloud_config}}


# OFFLINE TOKEN VALIDATION
# Offline token validation public key paths
KEYCLOAK_PUBLIC_KEY_PATH={{ml_core_keycloak_public_key_path|default("keycloak-public-keys")}}

# ML Survey Service
ML_SURVEY_SERVICE_URL={{ml_survey_service_url | default("http://ml-survey-service:3000")}}

# ML Project Service Service
ML_PROJECT_SERVICE_URL={{ml_project_service_url | default("http://ml-project-service:3000")}}

# Elastic search configurations 
# Elastic search enable/disable flag E.g. ON/OFF
ELASTICSEARCH_COMMUNICATIONS_ON_OFF={{ml_core_elasticsearch_communications_on_off | default("ON")}}

# Elastic search host url
ELASTICSEARCH_HOST_URL={{ml_core_elasticsearch_host_url | default("http://"+(groups['es7'][0]+':9200'))}}

# Elastic search index name for entities
ELASTICSEARCH_ENTITIES_INDEX={{ml_core_elasticsearch_user_extension_index_type | default ("entities")}}

# Base url of the sunbird enviornment
USER_SERVICE_URL={{ml_core_user_service_URL | default("http://user-service:3000")}}
