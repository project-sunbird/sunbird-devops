
---
kong_admin_api_url: "http://{{kong_host}}:8001"

# Default statsd_metrics
statsd_metrics: ["request_count", "status_count", "latency", "upstream_latency", "request_size", "response_size"]
statsd_host: monitor_statsd_exporter
statsd_port: 9125

statsd_pulgin:
  name: statsd
  config.metrics: "{{ statsd_metrics }}"
  config.host: "{{ statsd_host }}"
  config.port: "{{ statsd_port }}"

# Default Rate limits
small_rate_limit_per_hour: 100
medium_rate_limit_per_hour: 5000
x_medium_rate_limit_per_hour: 5000
large_rate_limit_per_hour: 10000
x2_large_rate_limit_per_hour: 15000
x_large_rate_limit_per_hour: 30000

premium_consumer_small_rate_limit_per_hour: 1000
premium_consumer_medium_rate_limit_per_hour: 10000
premium_consumer_large_rate_limit_per_hour: 100000

# Default max request size in MB
small_request_size_limit: 1
medium_request_size_limit: 10
large_request_size_limit: 100

# Default service prefixes
private_content_prefix: /private/content
content_service_prefix: /content
course_service_prefix: /course
user_service_prefix: /user
data_service_prefix: /data
notes_service_prefix: /notes
org_service_prefix: /org
echo_service_prefix: /echo
composite_service_prefix: /composite
api_manager_perfix: /api-manager
meta_service_prefix: /meta
dashboard_service_prefix: /dashboard
announcement_service_prefix: /announcement
dialcode_service_prefix: /dialcode
channel_service_prefix: /channel
framework_service_prefix: /framework
badge_service_prefix: /badging
plugin_service_prefix: /plugins
config_service_prefix: /config
textbook_service_prefix: /textbook
lock_service_prefix: /lock
otp_service_prefix: /otp
sso_service_prefix: /sso
cert_service_prefix: /cert
cert_registry_service_prefix: /certreg

# Service URLs
content_service_url: "http://content-service:5000"
learning_service_url: "http://learner-service:9000"
vm_learning_service_url: "http://{{learningservice_ip}}:8080/learning-service"
telemetry_service_url: "http://telemetry-service:9001"
player_service_url: "http://player_player:3000"
echo_service_url: "http://api-manager_echo:9595"
am_util_url: http://adminutil_adminutil:4000
config_service_url: "http://config-service:8080"
user_org_service_url: "http://user-org-service:9000"
lms_service_url: "http://lms-service:9000"
cert_service_url: "http://cert-service:9000"
cert_registry_service_url: "http://cert-registry-service:9000"

premium_consumer_rate_limits:
  - api: createContent
    config.hour: "{{ premium_consumer_small_rate_limit_per_hour }}"
    config.limit_by: credential
    config.policy: local
  - api: updateContent
    config.hour: "{{ premium_consumer_medium_rate_limit_per_hour }}"
    config.limit_by: credential
    config.policy: local
  - api: readContent
    config.hour: "{{ premium_consumer_large_rate_limit_per_hour }}"
    config.limit_by: credential
    config.policy: local

# Example:
# kong_apis:
# - name: "readContent"
#   uris: "/v3/public/content/read"
#   upstream_url: "{{ learning_service_url }}/v3/public/content/read"
#   strip_uri: true
#   plugins:
#    - {name: 'jwt'}
#    - {name: 'cors'}
#    - {name: 'statsd', config.metrics: "{{ statsd_metrics }}" }
#    - {name: 'acl', config.whitelist: 'contentUser'}
#    - {name: 'rate-limiting', config.hour: "{{ medium_rate_limit_per_hour }}"}
#    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ medium_request_size_limit }}" }
kong_apis:

  - name: PrivateContentAPIs
    uris: "{{ private_content_prefix }}/v3"
    upstream_url: "{{ vm_learning_service_url }}/content/v3"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: privateContentMgmt
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createContent
    uris: "{{ content_service_prefix }}/v1/create"
    upstream_url: "{{ content_service_url }}/v1/content/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchContent
    uris: "{{ content_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/content/search"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateContent
    uris: "{{ content_service_prefix }}/v1/update"
    upstream_url: "{{ content_service_url }}/v1/content/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readContent
    uris: "{{ content_service_prefix }}/v1/read"
    upstream_url: "{{ content_service_url }}/v1/content/read"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: submitContentForReview
    uris: "{{ content_service_prefix }}/v1/review"
    upstream_url: "{{ content_service_url }}/v1/content/review"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: publishContent
    uris: "{{ content_service_prefix }}/v1/publish"
    upstream_url: "{{ content_service_url }}/v1/content/publish"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: uploadContent
    uris: "{{ content_service_prefix }}/v1/upload"
    upstream_url: "{{ content_service_url }}/v1/content/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ large_request_size_limit }}"
  - name: retireContent
    uris: "{{ content_service_prefix }}/v1/retire"
    upstream_url: "{{ content_service_url }}/v1/content/retire"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createCourse
    uris: "{{ course_service_prefix }}/v1/create"
    upstream_url: "{{ content_service_url }}/v1/course/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchCourse
    uris: "{{ course_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/course/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateCourse
    uris: "{{ course_service_prefix }}/v1/update"
    upstream_url: "{{ content_service_url }}/v1/course/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readCourse
    uris: "{{ course_service_prefix }}/v1/read"
    upstream_url: "{{ content_service_url }}/v1/course/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: submitCourseForReview
    uris: "{{ course_service_prefix }}/v1/review"
    upstream_url: "{{ content_service_url }}/v1/course/review"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: publishCourse
    uris: "{{ course_service_prefix }}/v1/publish"
    upstream_url: "{{ content_service_url }}/v1/course/publish"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: retireCourse
    uris: "{{ course_service_prefix }}/v1/retire"
    upstream_url: "{{ content_service_url }}/v1/course/retire"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getCourseHierarchy
    uris: "{{ course_service_prefix }}/v1/hierarchy"
    upstream_url: "{{ content_service_url }}/v1/course/hierarchy"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: courseEnrolment
    uris: "{{ course_service_prefix }}/v1/enrol"
    upstream_url: "{{ lms_service_url }}/v1/course/enroll"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: courseUnEnrolment
    uris: "{{ course_service_prefix }}/v1/unenrol"
    upstream_url: "{{ lms_service_url }}/v1/course/unenroll"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listCourseEnrollments
    uris: "{{ course_service_prefix }}/v1/user/enrollment/list"
    upstream_url: "{{ lms_service_url }}/v1/user/courses/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readCourseEnrollment
    uris: "{{ course_service_prefix }}/v1/user/enrollment/read"
    upstream_url: "{{ lms_service_url }}/v1/user/courses/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readContentState
    uris: "{{ course_service_prefix }}/v1/content/state/read"
    upstream_url: "{{ lms_service_url }}/v1/content/state/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateContentState
    uris: "{{ course_service_prefix }}/v1/content/state/update"
    upstream_url: "{{ lms_service_url }}/v1/content/state/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createUser
    uris: "{{ user_service_prefix }}/v1/create"
    upstream_url: "{{ learning_service_url }}/v1/user/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createUserVersion2
    uris: "{{ user_service_prefix }}/v2/create"
    upstream_url: "{{ learning_service_url }}/v2/user/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateUser
    uris: "{{ user_service_prefix }}/v1/update"
    upstream_url: "{{ learning_service_url }}/v1/user/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserProfile
    uris: "{{ user_service_prefix }}/v1/read"
    upstream_url: "{{ learning_service_url }}/v1/user/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserProfileV2
    uris: "{{ user_service_prefix }}/v2/read"
    upstream_url: "{{ learning_service_url }}/v2/user/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchUser
    uris: "{{ user_service_prefix }}/v1/search"
    upstream_url: "{{ learning_service_url }}/v1/user/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: retireUser
    uris: "{{ user_service_prefix }}/v1/retire"
    upstream_url: "{{ learning_service_url }}/v1/user/retire"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createPage
    uris: "{{ data_service_prefix }}/v1/page/create"
    upstream_url: "{{ lms_service_url }}/v1/page/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updatePage
    uris: "{{ data_service_prefix }}/v1/page/update"
    upstream_url: "{{ lms_service_url }}/v1/page/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getPageSettings
    uris: "{{ data_service_prefix }}/v1/page/read"
    upstream_url: "{{ lms_service_url }}/v1/page/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: dialAssemble
    uris: "{{ data_service_prefix }}/v1/dial/assemble"
    upstream_url: "{{ lms_service_url }}/v1/page/assemble"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: assemblePage
    uris: "{{ data_service_prefix }}/v1/page/assemble"
    upstream_url: "{{ lms_service_url }}/v1/page/assemble"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createNote
    uris: "{{ notes_service_prefix }}/v1/create"
    upstream_url: "{{ learning_service_url }}/v1/note/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: noteUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateNote
    uris: "{{ notes_service_prefix }}/v1/update"
    upstream_url: "{{ learning_service_url }}/v1/note/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: noteUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readNote
    uris: "{{ notes_service_prefix }}/v1/read"
    upstream_url: "{{ learning_service_url }}/v1/note/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: noteUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchNotes
    uris: "{{ notes_service_prefix }}/v1/search"
    upstream_url: "{{ learning_service_url }}/v1/note/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: noteUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createOrg
    uris: "{{ org_service_prefix }}/v1/create"
    upstream_url: "{{ learning_service_url }}/v1/org/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateOrg
    uris: "{{ org_service_prefix }}/v1/update"
    upstream_url: "{{ learning_service_url }}/v1/org/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readOrg
    uris: "{{ org_service_prefix }}/v1/read"
    upstream_url: "{{ learning_service_url }}/v1/org/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchOrg
    uris: "{{ org_service_prefix }}/v1/search"
    upstream_url: "{{ learning_service_url }}/v1/org/search"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: addMember
    uris: "{{ org_service_prefix }}/v1/member/add"
    upstream_url: "{{ learning_service_url }}/v1/org/member/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: removeMember
    uris: "{{ org_service_prefix }}/v1/member/remove"
    upstream_url: "{{ learning_service_url }}/v1/org/member/remove"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: suspendMember
    uris: "{{ org_service_prefix }}/v1/member/suspend"
    upstream_url: "{{ learning_service_url }}/v1/org/member/suspend"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateMembership
    uris: "{{ org_service_prefix }}/v1/member/update"
    upstream_url: "{{ learning_service_url }}/v1/org/member/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: echo
    uris: "{{ echo_service_prefix }}"
    upstream_url: "{{ echo_service_url }}"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: echoUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createPageSection
    uris: "{{ data_service_prefix }}/v1/page/section/create"
    upstream_url: "{{ lms_service_url }}/v1/page/section/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updatePageSection
    uris: "{{ data_service_prefix }}/v1/page/section/update"
    upstream_url: "{{ lms_service_url }}/v1/page/section/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listPageSections
    uris: "{{ data_service_prefix }}/v1/page/section/list"
    upstream_url: "{{ lms_service_url }}/v1/page/section/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readPageSection
    uris: "{{ data_service_prefix }}/v1/page/section/read"
    upstream_url: "{{ lms_service_url }}/v1/page/section/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readRoleMapping
    uris: "{{ data_service_prefix }}/v1/role/read"
    upstream_url: "{{ learning_service_url }}/v1/role/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateAssessment
    uris: "{{ course_service_prefix }}/v1/assessment/update"
    upstream_url: "{{ learning_service_url }}/v1/assessment/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readAssessmentResult
    uris: "{{ course_service_prefix }}/v1/assessment/result/read"
    upstream_url: "{{ learning_service_url }}/v1/assessment/result/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateOrgStatus
    uris: "{{ org_service_prefix }}/v1/status/update"
    upstream_url: "{{ learning_service_url }}/v1/org/status/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readUserProfile
    uris: "{{ user_service_prefix }}/v1/profile/read"
    upstream_url: "{{ learning_service_url }}/v1/user/getuser"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: registerMobileApp
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_app/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_app/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: registerMobileDevice
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_device/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_device/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileApp
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: registerMobileAppOpenRAP
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_app_openrap/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_app_openrap/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileAdminOpenRAP
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: registerMobileDeviceOpenRAP
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_device_openrap/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_device_openrap/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileAppOpenRAP
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: compositeSearch
    uris: "{{ composite_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ premium_consumer_large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listTerms
    uris: "{{ meta_service_prefix }}/v1/terms/list"
    upstream_url: "{{ content_service_url }}/v1/terms/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listResourceBundles
    uris: "{{ meta_service_prefix }}/v1/resourcebundles/list"
    upstream_url: "{{ content_service_url }}/v1/resourcebundles/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listOrdinals
    uris: "{{ meta_service_prefix }}/v1/ordinals/list"
    upstream_url: "{{ content_service_url }}/v1/ordinals/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: telemetry
    uris: "{{ data_service_prefix }}/v1/telemetry"
    upstream_url: "{{ telemetry_service_url }}/v1/telemetry"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ premium_consumer_large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: flagContent
    uris: "{{ content_service_prefix }}/v1/flag"
    upstream_url: "{{ content_service_url }}/v1/content/flag"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: acceptContentFlag
    uris: "{{ content_service_prefix }}/v1/flag/accept"
    upstream_url: "{{ content_service_url }}/v1/content/flag/accept"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: rejectContentFlag
    uris: "{{ content_service_prefix }}/v1/flag/reject"
    upstream_url: "{{ content_service_url }}/v1/content/flag/reject"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getOrgCreationDashboard
    uris: "{{ dashboard_service_prefix }}/v1/creation/org"
    upstream_url: "{{ learning_service_url }}/v1/dashboard/creation/org"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getOrgConsumptionDashboard
    uris: "{{ dashboard_service_prefix }}/v1/consumption/org"
    upstream_url: "{{ learning_service_url }}/v1/dashboard/consumption/org"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getCourseProgressDashboard
    uris: "{{ dashboard_service_prefix }}/v1/progress/course"
    upstream_url: "{{ lms_service_url }}/v1/dashboard/progress/course"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getCourseProgressDashboardV2
    uris: "{{ dashboard_service_prefix }}/v2/progress/course"
    upstream_url: "{{ lms_service_url }}/v2/dashboard/progress/course"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getCourseConsumptionDashboard
    uris: "{{ dashboard_service_prefix }}/v1/consumption/course"
    upstream_url: "{{ lms_service_url }}/v1/dashboard/consumption/course"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserCreationDashboard
    uris: "{{ dashboard_service_prefix }}/v1/creation/user"
    upstream_url: "{{ learning_service_url }}/v1/dashboard/creation/user"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserConsumptionDasbhoard
    uris: "{{ dashboard_service_prefix }}/v1/consumption/user"
    upstream_url: "{{ learning_service_url }}/v1/dashboard/consumption/user"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: userBulkUpload
    uris: "{{ user_service_prefix }}/v1/upload"
    upstream_url: "{{ learning_service_url }}/v1/user/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: orgBulkUpload
    uris: "{{ org_service_prefix }}/v1/upload"
    upstream_url: "{{ learning_service_url }}/v1/org/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: checkUploadJobStatus
    uris: "{{ data_service_prefix }}/v1/upload/status"
    upstream_url: "{{ learning_service_url }}/v1/upload/status"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUploadJobStatusLink
    uris: "{{ data_service_prefix }}/v1/upload/statusDownloadLink"
    upstream_url: "{{ learning_service_url }}/v1/upload/statusDownloadLink"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createBatch
    uris: "{{ course_service_prefix }}/v1/batch/create"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateBatch
    uris: "{{ course_service_prefix }}/v1/batch/update"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: addUserToBatch
    uris: "{{ course_service_prefix }}/v1/batch/user/add"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/users/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: removeUserFromBatch
    uris: "{{ course_service_prefix }}/v1/batch/user/remove"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/users/remove"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getBatch
    uris: "{{ course_service_prefix }}/v1/batch/read"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getParticipants
    uris: "{{ course_service_prefix }}/v1/batch/participants/list"
    upstream_url: "{{ lms_service_url }}/v1/batch/participants/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: assignRole
    uris: "{{ user_service_prefix }}/v1/role/assign"
    upstream_url: "{{ learning_service_url }}/v1/user/assign/role"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: indexSync
    uris: "{{ data_service_prefix }}/v1/index/sync"
    upstream_url: "{{ learning_service_url }}/v1/data/sync"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: blockUser
    uris: "{{ user_service_prefix }}/v1/block"
    upstream_url: "{{ learning_service_url }}/v1/user/block"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: unblockUser
    uris: "{{ user_service_prefix }}/v1/unblock"
    upstream_url: "{{ learning_service_url }}/v1/user/unblock"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: uploadMedia
    uris: "{{ content_service_prefix }}/v1/media/upload"
    upstream_url: "{{ learning_service_url }}/v1/file/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: listCourseBatches
    uris: "{{ course_service_prefix }}/v1/batch/list"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: batchBulkEnrolment
    uris: "{{ course_service_prefix }}/v1/batch/bulk/enrollment"
    upstream_url: "{{ lms_service_url }}/v1/batch/bulk/enrollment"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: batchBulkUnEnrolment
    uris: "{{ course_service_prefix }}/v1/batch/bulk/unenrollment"
    upstream_url: "{{ lms_service_url }}/v1/batch/bulk/unenrollment"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getTenantInfo
    uris: "{{ org_service_prefix }}/v1/tenant/info"
    upstream_url: "{{ player_service_url }}/v1/tenant/info"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getContentUploadUrl
    uris: "{{ content_service_prefix }}/v1/upload/url/read"
    upstream_url: "{{ content_service_url }}/v1/content/upload/url"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: rejectContent
    uris: "{{ content_service_prefix }}/v1/reject"
    upstream_url: "{{ content_service_url }}/v1/content/reject"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: deleteNote
    uris: "{{ notes_service_prefix }}/v1/delete"
    upstream_url: "{{ learning_service_url }}/v1/note/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: noteAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: sendEmailNotification
    uris: "{{ user_service_prefix }}/v1/notification/email"
    upstream_url: "{{ learning_service_url }}/v1/notification/email"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: listAllBadges
    uris: "{{ org_service_prefix }}/v1/badges/list"
    upstream_url: "{{ learning_service_url }}/v1/badges/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: addBadgeToUser
    uris: "{{ user_service_prefix }}/v1/badges/add"
    upstream_url: "{{ learning_service_url }}/v1/user/badges/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: listOrgTypes
    uris: "{{ org_service_prefix }}/v1/type/list"
    upstream_url: "{{ learning_service_url }}/v1/org/type/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createOrgType
    uris: "{{ org_service_prefix }}/v1/type/create"
    upstream_url: "{{ learning_service_url }}/v1/org/type/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: updateOrgType
    uris: "{{ org_service_prefix }}/v1/type/update"
    upstream_url: "{{ learning_service_url }}/v1/org/type/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: updateUserloginTime
    uris: "{{ user_service_prefix }}/v1/update/logintime"
    upstream_url: "{{ learning_service_url }}/v1/user/update/logintime"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getMediaTypes
    uris: "{{ user_service_prefix }}/v1/mediatype/list"
    upstream_url: "{{ learning_service_url }}/v1/user/mediatype/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: DecryptData
    uris: "{{ data_service_prefix }}/v1/user/decrypt"
    upstream_url: "{{ learning_service_url }}/v1/user/data/decrypt"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: encryptData
    uris: "{{ data_service_prefix }}/v1/user/encrypt"
    upstream_url: "{{ learning_service_url }}/v1/user/data/encrypt"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: searchAuditHistory
    uris: "{{ data_service_prefix }}/v1/audit/history"
    upstream_url: "{{ learning_service_url }}/v1/audit/history"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: addUserSkill
    uris: "{{ user_service_prefix }}/v1/skill/add"
    upstream_url: "{{ learning_service_url }}/v1/user/skill/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getUserSkill
    uris: "{{ user_service_prefix }}/v1/skill/read"
    upstream_url: "{{ learning_service_url }}/v1/user/skill/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getSkills
    uris: "{{ data_service_prefix }}/v1/skills"
    upstream_url: "{{ learning_service_url }}/v1/skills"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: updateUserSkill
    uris: "{{ user_service_prefix }}/v1/skill/update"
    upstream_url: "{{ learning_service_url }}/v1/user/skill/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: addUserSkillEndorsement
    uris: "{{ user_service_prefix }}/v1/skill/endorse/add"
    upstream_url: "{{ learning_service_url }}/v1/user/skill/endorse/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getAllData
    uris: "{{ data_service_prefix }}/v1/object/read/list"
    upstream_url: "{{ learning_service_url }}/v1/object/read/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getData
    uris: "{{ data_service_prefix }}/v1/object/read"
    upstream_url: "{{ learning_service_url }}/v1/object/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createData
    uris: "{{ data_service_prefix }}/v1/object/create"
    upstream_url: "{{ learning_service_url }}/v1/object/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ large_request_size_limit }}"
  - name: updateData
    uris: "{{ data_service_prefix }}/v1/object/update"
    upstream_url: "{{ learning_service_url }}/v1/object/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: deleteData
    uris: "{{ data_service_prefix }}/v1/object/delete"
    upstream_url: "{{ learning_service_url }}/v1/object/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: searchData
    uris: "{{ data_service_prefix }}/v1/object/search"
    upstream_url: "{{ learning_service_url }}/v1/object/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getAnnouncementDefinitions
    uris: "{{announcement_service_prefix}}/v1/definitions"
    upstream_url: "{{ player_service_url }}/announcement/v1/definitions"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createAnnouncement
    uris: "{{announcement_service_prefix}}/v1/create"
    upstream_url: "{{ player_service_url }}/announcement/v1/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: cancelAnnouncement
    uris: "{{announcement_service_prefix}}/v1/cancel"
    upstream_url: "{{ player_service_url }}/announcement/v1/cancel"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getAnnouncementInbox
    uris: "{{announcement_service_prefix}}/v1/user/inbox"
    upstream_url: "{{ player_service_url }}/announcement/v1/user/inbox"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getAnnouncementOutbox
    uris: "{{announcement_service_prefix}}/v1/user/outbox"
    upstream_url: "{{ player_service_url }}/announcement/v1/user/outbox"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getAnnouncement
    uris: "{{announcement_service_prefix}}/v1/get"
    upstream_url: "{{ player_service_url }}/announcement/v1/get"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: registerClient
    uris: "{{ data_service_prefix }}/v1/client/register"
    upstream_url: "{{ learning_service_url }}/v1/client/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateClientKey
    uris: "{{ data_service_prefix }}/v1/client/key/update"
    upstream_url: "{{ learning_service_url }}/v1/client/key/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getClientKey
    uris: "{{ data_service_prefix }}/v1/client/key/read"
    upstream_url: "{{ learning_service_url }}/v1/client/key/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getTenantPreference
    uris: "{{ org_service_prefix }}/v1/tc/read"
    upstream_url: "{{ learning_service_url }}/v1/org/tc/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createTenantPreference
    uris: "{{ org_service_prefix }}/v1/tc/create"
    upstream_url: "{{ learning_service_url }}/v1/org/tc/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateTenantPreference
    uris: "{{ org_service_prefix }}/v1/tc/update"
    upstream_url: "{{ learning_service_url }}/v1/org/tc/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateUserTcStatus
    uris: "{{ user_service_prefix }}/v1/tc/update"
    upstream_url: "{{ learning_service_url }}/v1/user/tc/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createLocation
    uris: "{{ org_service_prefix }}/v1/location/create"
    upstream_url: "{{ learning_service_url }}/v1/notification/location/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getLocation
    uris: "{{ org_service_prefix }}/v1/location/read"
    upstream_url: "{{ learning_service_url }}/v1/notification/location/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: deleteLocation
    uris: "{{ org_service_prefix }}/v1/location/delete"
    upstream_url: "{{ learning_service_url }}/v1/notification/location/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateLocation
    uris: "{{ org_service_prefix }}/v1/location/update"
    upstream_url: "{{ learning_service_url }}/v1/notification/location/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: profileVisibility
    uris: "{{ user_service_prefix }}/v1/profile/visibility"
    upstream_url: "{{ learning_service_url }}/v1/user/profile/visibility"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: sendNotification
    uris: "{{ data_service_prefix }}/v1/notification/send"
    upstream_url: "{{ learning_service_url }}/v1/notification/send"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: announcementResend
    uris: "{{ announcement_service_prefix }}/v1/resend"
    upstream_url: "{{ player_service_url }}/announcement/v1/resend"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: announcementReceived
    uris: "{{ announcement_service_prefix }}/v1/received"
    upstream_url: "{{ player_service_url }}/announcement/v1/received"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: announcementRead
    uris: "{{ announcement_service_prefix }}/v1/read"
    upstream_url: "{{ player_service_url }}/announcement/v1/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: metricsSearchData
    uris: "{{ data_service_prefix }}/v1/object/metrics"
    upstream_url: "{{ learning_service_url }}/v1/object/metrics"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateSystemSettings
    uris: "{{ data_service_prefix }}/v1/system/settings/list"
    upstream_url: "{{ learning_service_url }}/v1/system/settings/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getAudienceCount
    uris: "{{ data_service_prefix }}/v1/notification/audience"
    upstream_url: "{{ learning_service_url }}/v1/notification/audience"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: generateDialcodes
    uris: "{{ dialcode_service_prefix }}/v1/generate"
    upstream_url: "{{ content_service_url }}/v1/dialcode/generate"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readDialcode
    uris: "{{ dialcode_service_prefix }}/v1/read"
    upstream_url: "{{ content_service_url }}/v1/dialcode/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateDialcode
    uris: "{{ dialcode_service_prefix }}/v1/update"
    upstream_url: "{{ content_service_url }}/v1/dialcode/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listDialcodes
    uris: "{{ dialcode_service_prefix }}/v1/list"
    upstream_url: "{{ content_service_url }}/v1/dialcode/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: publishDialcode
    uris: "{{ dialcode_service_prefix }}/v1/publish"
    upstream_url: "{{ content_service_url }}/v1/dialcode/publish"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchDialcodes
    uris: "{{ dialcode_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/dialcode/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: qrCodeBatchProcessStatus
    uris: "{{ dialcode_service_prefix }}/v1/process/status"
    upstream_url: "{{ content_service_url }}/v1/dialcode/process/status"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: qrCodeBatchProcessRetry
    uris: "{{ dialcode_service_prefix }}/v1/process/retry"
    upstream_url: "{{ content_service_url }}/v1/dialcode/process/retry"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createPublisher
    uris: "{{ dialcode_service_prefix }}/v1/publisher/create"
    upstream_url: "{{ content_service_url }}/v1/dialcode/publisher/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updatePublisher
    uris: "{{ dialcode_service_prefix }}/v1/publisher/update"
    upstream_url: "{{ content_service_url }}/v1/dialcode/publisher/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readPublisher
    uris: "{{ dialcode_service_prefix }}/v1/publisher/read"
    upstream_url: "{{ content_service_url }}/v1/dialcode/publisher/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: linkDialcodeContent
    uris: "{{ dialcode_service_prefix }}/v1/content/link"
    upstream_url: "{{ content_service_url }}/v1/dialcode/content/link"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readChannel
    uris: "{{ channel_service_prefix }}/v1/read"
    upstream_url: "{{ content_service_url }}/v1/channel/read"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ x_large_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listChannel
    uris: "{{ channel_service_prefix }}/v1/list"
    upstream_url: "{{ content_service_url }}/v1/channel/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchChannel
    uris: "{{ channel_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/channel/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createChannel
    uris: "{{ channel_service_prefix }}/v1/create"
    upstream_url: "{{ content_service_url }}/v1/channel/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateChannel
    uris: "{{ channel_service_prefix }}/v1/update"
    upstream_url: "{{ content_service_url }}/v1/channel/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readFramework
    uris: "{{ framework_service_prefix }}/v1/read"
    upstream_url: "{{ content_service_url }}/v1/framework/read"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ premium_consumer_large_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listFramework
    uris: "{{ framework_service_prefix }}/v1/list"
    upstream_url: "{{ content_service_url }}/v1/framework/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ x_medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createFramework
    uris: "{{ framework_service_prefix }}/v1/create"
    upstream_url: "{{ content_service_url }}/v1/framework/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ x_medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateFramework
    uris: "{{ framework_service_prefix }}/v1/update"
    upstream_url: "{{ content_service_url }}/v1/framework/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: copyFramework
    uris: "{{ framework_service_prefix }}/v1/copy"
    upstream_url: "{{ content_service_url }}/v1/framework/copy"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readFrameworkTerm
    uris: "{{ framework_service_prefix }}/v1/term/read"
    upstream_url: "{{ content_service_url }}/v1/framework/term/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ x_large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchFrameworkTerm
    uris: "{{ framework_service_prefix }}/v1/term/search"
    upstream_url: "{{ content_service_url }}/v1/framework/term/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createFrameworkTerm
    uris: "{{ framework_service_prefix }}/v1/term/create"
    upstream_url: "{{ content_service_url }}/v1/framework/term/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateFrameworkTerm
    uris: "{{ framework_service_prefix }}/v1/term/update"
    upstream_url: "{{ content_service_url }}/v1/framework/term/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readFrameworkCategory
    uris: "{{ framework_service_prefix }}/v1/category/read"
    upstream_url: "{{ content_service_url }}/v1/framework/category/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchFrameworkCategory
    uris: "{{ framework_service_prefix }}/v1/category/search"
    upstream_url: "{{ content_service_url }}/v1/framework/category/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createFrameworkCategory
    uris: "{{ framework_service_prefix }}/v1/category/create"
    upstream_url: "{{ content_service_url }}/v1/framework/category/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateFrameworkCategory
    uris: "{{ framework_service_prefix }}/v1/category/update"
    upstream_url: "{{ content_service_url }}/v1/framework/category/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateCourseHierarchy
    uris: '{{ course_service_prefix }}/v1/hierarchy/update'
    upstream_url: '{{ content_service_url }}/v1/course/hierarchy/update'
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: submitDatasetRequest
    uris: "{{ data_service_prefix }}/v1/dataset/request/submit"
    upstream_url: "{{ content_service_url }}/v1/dataset/request/submit"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listDatasetRequest
    uris: "{{ data_service_prefix }}/v1/dataset/request/list"
    upstream_url: "{{ content_service_url }}/v1/dataset/request/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readDatasetRequest
    uris: "{{ data_service_prefix }}/v1/dataset/request/read"
    upstream_url: "{{ content_service_url }}/v1/dataset/request/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: channelDatasetRequest
    uris: "{{ data_service_prefix }}/v1/dataset/request"
    upstream_url: "{{ content_service_url }}/v1/dataset/request"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createAssertion
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/assertion/create"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/assertion/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getAssertion
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/assertion/read"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/assertion/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getAssertionList
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/assertion/search"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/assertion/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: revokeAssertion
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/assertion/delete"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/assertion/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createBadgeClass
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/create"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getBadgeClass
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/read"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: searchBadgeClass
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/search"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: deleteBadgeClass
    uris: "{{ badge_service_prefix }}/v1/issuer/badge/delete"
    upstream_url: "{{ learning_service_url }}/v1/issuer/badge/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createissuer
    uris: "{{ badge_service_prefix }}/v1/issuer/create"
    upstream_url: "{{ learning_service_url }}/v1/issuer/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getIssuerDetails
    uris: "{{ badge_service_prefix }}/v1/issuer/read"
    upstream_url: "{{ learning_service_url }}/v1/issuer/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: getAllIssuer
    uris: "{{ badge_service_prefix }}/v1/issuer/list"
    upstream_url: "{{ learning_service_url }}/v1/issuer/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: deleteIssuer
    uris: "{{ badge_service_prefix }}/v1/issuer/delete"
    upstream_url: "{{ learning_service_url }}/v1/issuer/delete"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createForm
    uris: "{{ data_service_prefix }}/v1/form/create"
    upstream_url: "{{ player_service_url }}/plugin/v1/form/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: updateForm
    uris: "{{ data_service_prefix }}/v1/form/update"
    upstream_url: "{{ player_service_url }}/plugin/v1/form/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: announcementtypeCreate
    uris: "{{ announcement_service_prefix }}/v1/manage/announcement-type/create"
    upstream_url: "{{ player_service_url }}/announcement/v1/manage/announcement-type/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: announcementtypeUpdate
    uris: "{{ announcement_service_prefix }}/v1/manage/announcement-type/update"
    upstream_url: "{{ player_service_url }}/announcement/v1/manage/announcement-type/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: announcementtypeList
    uris: "{{ announcement_service_prefix }}/v1/manage/announcement-type/list"
    upstream_url: "{{ player_service_url }}/announcement/v1/manage/announcement-type/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dataUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readForm
    uris: "{{ data_service_prefix }}/v1/form/read"
    upstream_url: "{{ player_service_url }}/plugin/v1/form/read"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: masterLocationCreate
    uris: "{{ data_service_prefix }}/v1/location/create"
    upstream_url: "{{ learning_service_url }}/v1/location/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: masterLocationUpdate
    uris: "{{ data_service_prefix }}/v1/location/update"
    upstream_url: "{{ learning_service_url }}/v1/location/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: masterLocationSearch
    uris: "{{ data_service_prefix }}/v1/location/search"
    upstream_url: "{{ learning_service_url }}/v1/location/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: masterLocationUpload
    uris: "{{ data_service_prefix }}/v1/bulk/location/upload"
    upstream_url: "{{ learning_service_url }}/v1/bulk/location/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: copyContent
    uris: "{{ content_service_prefix }}/v1/copy"
    upstream_url: "{{ content_service_url }}/v1/content/copy"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: fetchURLMetaInformation
    uris: "{{ content_service_prefix }}/v1/fetchmeta"
    upstream_url: "{{ content_service_url }}/v1/url/fetchmeta"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: publishFramework
    uris: "{{ framework_service_prefix }}/v1/publish"
    upstream_url: "{{ content_service_url }}/v1/framework/publish"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: domainUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ large_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: pluginSearch
    uris: "{{ plugin_service_prefix }}/v1/search"
    upstream_url: "{{ content_service_url }}/v1/plugins/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateCollaborators
    uris: "{{ content_service_prefix }}/v1/collaborator/update"
    upstream_url: "{{ content_service_url }}/v1/content/collaborator/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: reserveDialcode
    uris: "{{ dialcode_service_prefix }}/v1/reserve"
    upstream_url: "{{ content_service_url }}/v1/dialcode/reserve"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: releaseDialcode
    uris: "{{ dialcode_service_prefix }}/v1/release"
    upstream_url: "{{ content_service_url }}/v1/dialcode/release"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: dialcodeAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createLock
    uris: "{{ lock_service_prefix }}/v1/create"
    upstream_url: "{{ content_service_url }}/v1/lock/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: refreshLock
    uris: "{{ lock_service_prefix }}/v1/refresh"
    upstream_url: "{{ content_service_url }}/v1/lock/refresh"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: retireLock
    uris: "{{ lock_service_prefix }}/v1/retire"
    upstream_url: "{{ content_service_url }}/v1/lock/retire"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listLock
    uris: "{{ lock_service_prefix }}/v1/list"
    upstream_url: "{{ content_service_url }}/v1/lock/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createSession
    uris: "{{ sso_service_prefix }}/v1/create/session"
    upstream_url: "{{ player_service_url }}/v1/sso/create/session"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  # Data pipeline
  - name: "datasetSubmitRequest"
    uris: "{{ data_service_prefix }}/v3/dataset/request/submit"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/dataset/request/submit"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "datasetReadRequest"
    uris: "{{ data_service_prefix }}/v3/dataset/request/read"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/dataset/request/read"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "datasetListRequest"
    uris: "{{ data_service_prefix }}/v3/dataset/request/list"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/dataset/request/list"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "deviceRegister"
    uris: "/v3/device/register"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/v1/device/register"
    strip_uri: true
    plugins:
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "deviceProfile"
    uris: "/v3/device/profile"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/v1/device/profile"
    strip_uri: true
    plugins:
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }   
  - name: "channelSpecificTelemetryExhaust"
    uris: "{{ data_service_prefix }}/v3/dataset/get"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/dataset/get"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }

  - name: "dataproductsCumulativeMetrics"
    uris: "{{ data_service_prefix }}/v3/metrics"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/metrics"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
     
  - name: "experimentcreate"
    uris: "{{ data_service_prefix }}/v1/experiement/create"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/experiment/create"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }   

  - name: "experimentcreate"
    uris: "{{ data_service_prefix }}/v1/experiement/create"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/experiment/create"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }

  - name: "experimentread"
    uris: "{{ data_service_prefix }}/v1/experiement/get"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/experiment/get"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "configRefresh"
    uris: "{{ config_service_prefix }}/v1/refresh"
    upstream_url: "{{ config_service_url }}/config-service/v1/refresh"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'dataAdmin'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ small_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }

  - name: "getConfigByKey"
    uris: "{{ config_service_prefix }}/v1/read"
    upstream_url: "{{ config_service_url }}/config-service/v1/read"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ large_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "addSystemSettings"
    uris: "{{ data_service_prefix }}/v1/system/settings/set"
    upstream_url: "{{ learning_service_url }}/v1/system/settings/set"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'dataAdmin'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{  medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "getSystemSettings"
    uris: "{{ data_service_prefix }}/v1/system/settings/get"
    upstream_url: "{{ learning_service_url }}/v1/system/settings/get"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{  medium_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "getConfigStatus"
    uris: "{{ config_service_prefix }}/v1/status"
    upstream_url: "{{ config_service_url }}/config-service/v1/status"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'dataAdmin'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ small_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "getConfigHealth"
    uris: "{{ config_service_prefix }}/v1/health"
    upstream_url: "{{ config_service_url }}/config-service/v1/health"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'dataAdmin'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ small_rate_limit_per_hour }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: onboardConsumer
    uris: "{{ api_manager_perfix }}/v1/consumer/create/jwt"
    upstream_url: "{{ am_util_url }}/v1/consumer/create/jwt"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: kongConsumer
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ small_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: KongConsumerApi
    uris: "{{ api_manager_perfix }}/v1/consumer"
    upstream_url: "{{ am_util_url }}/v1/consumer"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: kongConsumer
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ small_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: uploadTOC
    uris: "{{ textbook_service_prefix }}/v1/toc/upload"
    upstream_url: "{{ lms_service_url }}/v1/textbook/toc/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: downloadTOC
    uris: "{{ textbook_service_prefix }}/v1/toc/download"
    upstream_url: "{{ lms_service_url }}/v1/textbook/toc/download"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: acceptTermsAndCondition
    uris: "{{ user_service_prefix }}/v1/tnc/accept"
    upstream_url: "{{ learning_service_url }}/v1/user/tnc/accept"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: generateOtp
    uris: "{{ otp_service_prefix }}/v1/generate"
    upstream_url: "{{ learning_service_url }}/v1/otp/generate"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: verifyOtp
    uris: "{{ otp_service_prefix }}/v1/verify"
    upstream_url: "{{ learning_service_url }}/v1/otp/verify"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserByKey
    uris: "{{ user_service_prefix  }}/v1/get"
    upstream_url: "{{ learning_service_url }}/v1/user/get"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: registerMobileAppTeacherAid
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_app_teacheraid/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_app_teacheraid/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileAdminTeacherAid
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

  - name: registerMobileDeviceTeacherAid
    uris: "{{ api_manager_perfix }}/v1/consumer/mobile_device_teacheraid/credential/register"
    upstream_url: "{{ am_util_url }}/v1/consumer/mobile_device_teacheraid/credential/register"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: mobileAppTeacherAid
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: "contentBadgeLink"
    uris: "{{ badge_service_prefix }}/v1/content/link"
    upstream_url: "{{ lms_service_url }}/v1/content/link"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "contentBadgeUnLink"
    uris: "{{ badge_service_prefix }}/v1/content/unlink"
    upstream_url: "{{ lms_service_url }}/v1/content/unlink"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "privateUserUpdate"
    uris: "{{ user_service_prefix }}/private/v1/update"
    upstream_url: "{{ learning_service_url }}/private/user/v1/update"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "getUserType"
    uris: "{{ user_service_prefix }}/v1/type/list"
    upstream_url: "{{ learning_service_url }}/v1/user/type/list"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "masterLocationDelete"
    uris: "{{data_service_prefix }}/v1/location/delete"
    upstream_url: "{{ learning_service_url }}/v1/location/delete"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'locationAdmin'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "migrateUser"
    uris: "{{ user_service_prefix }}/v1/migrate"
    upstream_url: "{{ learning_service_url }}/private/user/v1/migrate"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "privateUserRead"
    uris: "{{ user_service_prefix }}/private/v1/read"
    upstream_url: "{{ learning_service_url }}/private/user/v1/read"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "privateUserAssignRole"
    uris: "{{ user_service_prefix }}/private/v1/assign/role"
    upstream_url: "{{ learning_service_url }}/private/user/v1/assign/role"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: createUserV3
    uris: "{{ user_service_prefix }}/v1.3/create"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: createUserVersion2V3
    uris: "{{ user_service_prefix }}/v2.3/create"
    upstream_url: "{{ user_org_service_url }}/v2.3/user/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserProfileV3
    uris: "{{ user_service_prefix }}/v1.3/read"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserProfileV2V3
    uris: "{{ user_service_prefix }}/v2.3/read"
    upstream_url: "{{ user_org_service_url }}/v2.3/user/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readUserProfileV3
    uris: "{{ user_service_prefix }}/v1.3/profile/read"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/getuser"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getUserByKeyV3
    uris: "{{ user_service_prefix  }}/v1.3/get"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/get"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchUserV3
    uris: "{{ user_service_prefix }}/v1.3/search"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/search"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: getMediaTypesV3
    uris: "{{ user_service_prefix }}/v1.3/mediatype/list"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/mediatype/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: profileVisibilityV3
    uris: "{{ user_service_prefix }}/v1.3/profile/visibility"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/profile/visibility"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: "getUserTypeV3"
    uris: "{{ user_service_prefix }}/v1.3/type/list"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/type/list"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: blockUserV3
    uris: "{{ user_service_prefix }}/v1.3/block"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/block"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: unblockUserV3
    uris: "{{ user_service_prefix }}/v1.3/unblock"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/unblock"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readRoleMappingV3
    uris: "{{ data_service_prefix }}/v1.3/role/read"
    upstream_url: "{{ user_org_service_url }}/v1.3/role/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: assignRoleV3
    uris: "{{ user_service_prefix }}/v1.3/role/assign"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/assign/role"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: "privateUserAssignRoleV3"
    uris: "{{ user_service_prefix }}/private/v1.3/assign/role"
    upstream_url: "{{ user_org_service_url }}/private/user/v1.3/assign/role"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: updateUserV3
    uris: "{{ user_service_prefix }}/v1.3/update"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: "privateUserUpdateV3"
    uris: "{{ user_service_prefix }}/private/v1.3/update"
    upstream_url: "{{ user_org_service_url }}/private/user/v1.3/update"
    strip_uri: true
    plugins:
     - {name: 'jwt'}
     - {name: 'cors'}
     - "{{ statsd_pulgin }}"
     - {name: 'acl', config.whitelist: 'publicUser'}
     - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
     - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: updateUserloginTimeV3
    uris: "{{ user_service_prefix }}/v1.3/update/logintime"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/update/logintime"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: acceptTermsAndConditionV3
    uris: "{{ user_service_prefix }}/v1.3/tnc/accept"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/tnc/accept"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: DecryptDataV3
    uris: "{{ data_service_prefix }}/v1.3/user/decrypt"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/data/decrypt"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: encryptDataV3
    uris: "{{ data_service_prefix }}/v1.3/user/encrypt"
    upstream_url: "{{ user_org_service_url }}/v1.3/user/data/encrypt"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: appUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createOrgV3
    uris: "{{ org_service_prefix }}/v1.3/create"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateOrgV3
    uris: "{{ org_service_prefix }}/v1.3/update"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: readOrgV3
    uris: "{{ org_service_prefix }}/v1.3/read"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/read"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: searchOrgV3
    uris: "{{ org_service_prefix }}/v1.3/search"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/search"
    strip_uri: true
    plugins:
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: ip
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: addMemberV3
    uris: "{{ org_service_prefix }}/v1.3/member/add"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/member/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: removeMemberV3
    uris: "{{ org_service_prefix }}/v1.3/member/remove"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/member/remove"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: updateOrgStatusV3
    uris: "{{ org_service_prefix }}/v1.3/status/update"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/status/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: listOrgTypesV3
    uris: "{{ org_service_prefix }}/v1.3/type/list"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/type/list"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: createOrgTypeV3
    uris: "{{ org_service_prefix }}/v1.3/type/create"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/type/create"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: updateOrgTypeV3
    uris: "{{ org_service_prefix }}/v1.3/type/update"
    upstream_url: "{{ user_org_service_url }}/v1.3/org/type/update"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: orgUpdate
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: "telemetryErrorLogging"
    uris: "/data/v1/client/logs"
    upstream_url: "{{ sunbird_analytics_api_base_url }}/data/v1/client/logs"
    strip_uri: true
    plugins:
    - {name: 'cors'}
    - "{{ statsd_pulgin }}"
    - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour }}"}
    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: generateCertificate
    uris: "{{ cert_service_prefix }}/v1/certs/generate"
    upstream_url: "{{ cert_service_url }}/v1/certs/generate"
    strip_uri: true
    plugins:
      - name: jwt
      - name: cors
      - "{{ statsd_pulgin }}"
      - name: acl
        config.whitelist: orgUpdate
      - name: rate-limiting
        config.policy: local
        config.hour: "{{ medium_rate_limit_per_hour }}"
        config.limit_by: credential
      - name: request-size-limiting
        config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: "certValidation"
    uris: "{{ user_service_prefix }}/v1/certs/validate"
    upstream_url: "{{ learning_service_url }}/private/user/v1/certs/validate"
    strip_uri: true
    plugins:
    - {name: 'jwt'}
    - {name: 'cors'}
    - "{{ statsd_pulgin }}"
    - {name: 'acl', config.whitelist: 'userUpdate'}
    - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "orgAssignKeys"
    uris: "{{ org_service_prefix }}/v1/assign/key"
    upstream_url: "{{ learning_service_url }}/v1/org/assign/key"
    strip_uri: true
    plugins:
    - {name: 'jwt'}
    - {name: 'cors'}
    - "{{ statsd_pulgin }}"
    - {name: 'acl', config.whitelist: 'orgAdmin'}
    - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: "mergeUserAccounts"
    uris: "{{ user_service_prefix }}/v1/account/merge"
    upstream_url: "{{ learning_service_url }}/private/user/v1/account/merge"
    strip_uri: true
    plugins:
    - {name: 'jwt'}
    - {name: 'cors'}
    - "{{ statsd_pulgin }}"
    - {name: 'acl', config.whitelist: 'publicUser'}
    - {name: 'rate-limiting', config.policy: "local", config.hour: "{{ medium_rate_limit_per_hour  }}"}
    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ small_request_size_limit }}" }
  - name: qrCodeDownload
    uris: "{{ course_service_prefix }}/v1/qrcode/download"
    upstream_url: "{{ lms_service_url }}/v1/course/qrcode/download"
    strip_uri: true
    plugins:
      - name: jwt
      - name: cors
      - "{{ statsd_pulgin }}"
      - name: acl
        config.whitelist: courseUser
      - name: rate-limiting
        config.policy: local
        config.hour: "{{ medium_rate_limit_per_hour }}"
        config.limit_by: credential
      - name: request-size-limiting
        config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: courseIssueCertificate
    uris: "{{ course_service_prefix }}/batch/cert/v1/issue"
    upstream_url: "{{ lms_service_url }}/v1/course/batch/cert/issue"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: downloadCertificate
    uris: "{{ user_service_prefix }}/v1/certs/download"
    upstream_url: "{{ learning_service_url }}/v1/user/certs/download"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: UserBulkUploadv2
    uris: "{{ user_service_prefix }}/v2/bulk/upload"
    upstream_url: "{{ learning_service_url }}/v2/bulk/user/upload"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ small_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ medium_request_size_limit }}"
  - name: downloadRegCertificate
    uris: "{{ cert_registry_service_prefix }}/v1/certs/download"
    upstream_url: "{{ cert_registry_service_url }}/certs/v1/registry/download"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: validateRegCertificate
    uris: "{{ cert_registry_service_prefix }}/v1/certs/validate"
    upstream_url: "{{ cert_registry_service_url }}/certs/v1/registry/validate"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: addRegCertificate
    uris: "{{ cert_registry_service_prefix }}/v1/certs/add"
    upstream_url: "{{ cert_registry_service_url }}/certs/v1/registry/add"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"
  - name: rejectMigrate
    uris: "{{ user_service_prefix }}/v1/migrate/reject"
    upstream_url: "{{ learning_service_url }}/v1/user/migrate/reject"
    strip_uri: true
    plugins:
    - name: jwt
    - name: cors
    - "{{ statsd_pulgin }}"
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.policy: local
      config.hour: "{{ medium_rate_limit_per_hour }}"
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: "{{ small_request_size_limit }}"

