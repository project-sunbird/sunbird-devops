---
kong_admin_api_url: "http://{{kong_host}}:8001"

# Default statsd_metrics
statsd_metrics: ["request_count", "status_count", "latency", "upstream_latency", "request_size", "response_size"]
statsd_host: monitor_statsd_exporter
statsd_port: 9125

statsd_pulgin:
  name: statsd
  config.metrics: '{{ statsd_metrics }}'
  config.host: '{{ statsd_host }}'
  config.port: '{{ statsd_port }}'

# Default Rate limits
small_rate_limit_per_hour: 100
medium_rate_limit_per_hour: 1000
large_rate_limit_per_hour: 10000

premium_consumer_small_rate_limit_per_hour: 1000
premium_consumer_medium_rate_limit_per_hour: 10000
premium_consumer_large_rate_limit_per_hour: 100000

# Default max request size in MB
small_request_size_limit: 1
medium_request_size_limit: 10
large_request_size_limit: 100

# Default service prefixes
content_service_prefix: /content
course_service_prefix: /course
user_service_prefix: /user
data_service_prefix: /data
notes_service_prefix: /notes
org_service_prefix: /org
echo_service_prefix: /echo
composite_service_prefix: /composite
api_manager_perfix: /api-manager
meta_service_prefix: /meta
dashboard_service_prefix: /dashboard
announcement_service_prefix: /announcement

# Service URLs
content_service_url: "http://content_service_content_service:5000"
learning_service_url: "http://learner-service:9000"
player_service_url: "http://player_player:3000"
echo_service_url: "http://api-manager_echo:9595"
am_util_url: http://adminutil_adminutil:4000

premium_consumer_rate_limits:
  - api: createContent
    config.hour: "{{ premium_consumer_small_rate_limit_per_hour }}"
    config.limit_by: credential
  - api: updateContent
    config.hour: "{{ premium_consumer_medium_rate_limit_per_hour }}"
    config.limit_by: credential
  - api: readContent
    config.hour: "{{ premium_consumer_large_rate_limit_per_hour }}"
    config.limit_by: credential

# Example:
# kong_apis:
# - name: "readContent"
#   request_path: "/v3/public/content/read"
#   upstream_url: "{{ learning_service_url }}/v3/public/content/read"
#   strip_request_path: true
#   plugins:
#    - {name: 'jwt'}
#    - {name: 'cors'}
#    - {name: 'statsd', config.metrics: "{{ statsd_metrics }}" }
#    - {name: 'acl', config.whitelist: 'contentUser'}
#    - {name: 'rate-limiting', config.hour: "{{ medium_rate_limit_per_hour }}"}
#    - {name: 'request-size-limiting', config.allowed_payload_size: "{{ medium_request_size_limit }}" }
kong_apis:
  - name: createContent
    request_path: '{{ content_service_prefix }}/v1/create'
    upstream_url: '{{ content_service_url }}/v1/content/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: searchContent
    request_path: '{{ content_service_prefix }}/v1/search'
    upstream_url: '{{ content_service_url }}/v1/content/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateContent
    request_path: '{{ content_service_prefix }}/v1/update'
    upstream_url: '{{ content_service_url }}/v1/content/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readContent
    request_path: '{{ content_service_prefix }}/v1/read'
    upstream_url: '{{ content_service_url }}/v1/content/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: submitContentForReview
    request_path: '{{ content_service_prefix }}/v1/review'
    upstream_url: '{{ content_service_url }}/v1/content/review'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: publishContent
    request_path: '{{ content_service_prefix }}/v1/publish'
    upstream_url: '{{ content_service_url }}/v1/content/publish'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: uploadContent
    request_path: '{{ content_service_prefix }}/v1/upload'
    upstream_url: '{{ content_service_url }}/v1/content/upload'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ large_request_size_limit }}'
  - name: retireContent
    request_path: '{{ content_service_prefix }}/v1/retire'
    upstream_url: '{{ content_service_url }}/v1/content/retire'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createCourse
    request_path: '{{ course_service_prefix }}/v1/create'
    upstream_url: '{{ content_service_url }}/v1/course/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: searchCourse
    request_path: '{{ course_service_prefix }}/v1/search'
    upstream_url: '{{ content_service_url }}/v1/course/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateCourse
    request_path: '{{ course_service_prefix }}/v1/update'
    upstream_url: '{{ content_service_url }}/v1/course/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readCourse
    request_path: '{{ course_service_prefix }}/v1/read'
    upstream_url: '{{ content_service_url }}/v1/course/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: submitCourseForReview
    request_path: '{{ course_service_prefix }}/v1/review'
    upstream_url: '{{ content_service_url }}/v1/course/review'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: publishCourse
    request_path: '{{ course_service_prefix }}/v1/publish'
    upstream_url: '{{ content_service_url }}/v1/course/publish'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: retireCourse
    request_path: '{{ course_service_prefix }}/v1/retire'
    upstream_url: '{{ content_service_url }}/v1/course/retire'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getCourseHierarchy
    request_path: '{{ course_service_prefix }}/v1/hierarchy'
    upstream_url: '{{ content_service_url }}/v1/course/hierarchy'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: courseEnrolment
    request_path: '{{ course_service_prefix }}/v1/enrol'
    upstream_url: '{{ learning_service_url }}/v1/course/enrol'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: listCourseEnrollments
    request_path: '{{ course_service_prefix }}/v1/user/enrollment/list'
    upstream_url: '{{ learning_service_url }}/v1/user/courses/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readContentState
    request_path: '{{ course_service_prefix }}/v1/content/state/read'
    upstream_url: '{{ learning_service_url }}/v1/content/state/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateContentState
    request_path: '{{ course_service_prefix }}/v1/content/state/update'
    upstream_url: '{{ learning_service_url }}/v1/content/state/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createUser
    request_path: '{{ user_service_prefix }}/v1/create'
    upstream_url: '{{ learning_service_url }}/v1/user/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateUser
    request_path: '{{ user_service_prefix }}/v1/update'
    upstream_url: '{{ learning_service_url }}/v1/user/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getUserProfile
    request_path: '{{ user_service_prefix }}/v1/read'
    upstream_url: '{{ learning_service_url }}/v1/user/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: searchUser
    request_path: '{{ user_service_prefix }}/v1/search'
    upstream_url: '{{ learning_service_url }}/v1/user/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: retireUser
    request_path: '{{ user_service_prefix }}/v1/retire'
    upstream_url: '{{ learning_service_url }}/v1/user/retire'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createPage
    request_path: '{{ data_service_prefix }}/v1/page/create'
    upstream_url: '{{ learning_service_url }}/v1/page/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updatePage
    request_path: '{{ data_service_prefix }}/v1/page/update'
    upstream_url: '{{ learning_service_url }}/v1/page/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getPageSettings
    request_path: '{{ data_service_prefix }}/v1/page/read'
    upstream_url: '{{ learning_service_url }}/v1/page/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: assemblePage
    request_path: '{{ data_service_prefix }}/v1/page/assemble'
    upstream_url: '{{ learning_service_url }}/v1/page/assemble'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createNote
    request_path: '{{ notes_service_prefix }}/v1/create'
    upstream_url: '{{ learning_service_url }}/v1/note/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: noteAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateNote
    request_path: '{{ notes_service_prefix }}/v1/update'
    upstream_url: '{{ learning_service_url }}/v1/note/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: noteAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readNote
    request_path: '{{ notes_service_prefix }}/v1/read'
    upstream_url: '{{ learning_service_url }}/v1/note/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: noteUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: searchNotes
    request_path: '{{ notes_service_prefix }}/v1/search'
    upstream_url: '{{ learning_service_url }}/v1/note/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: noteUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createOrg
    request_path: '{{ org_service_prefix }}/v1/create'
    upstream_url: '{{ learning_service_url }}/v1/org/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateOrg
    request_path: '{{ org_service_prefix }}/v1/update'
    upstream_url: '{{ learning_service_url }}/v1/org/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readOrg
    request_path: '{{ org_service_prefix }}/v1/read'
    upstream_url: '{{ learning_service_url }}/v1/org/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: searchOrg
    request_path: '{{ org_service_prefix }}/v1/search'
    upstream_url: '{{ learning_service_url }}/v1/org/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: addMember
    request_path: '{{ org_service_prefix }}/v1/member/add'
    upstream_url: '{{ learning_service_url }}/v1/org/member/add'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: removeMember
    request_path: '{{ org_service_prefix }}/v1/member/remove'
    upstream_url: '{{ learning_service_url }}/v1/org/member/remove'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: suspendMember
    request_path: '{{ org_service_prefix }}/v1/member/suspend'
    upstream_url: '{{ learning_service_url }}/v1/org/member/suspend'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateMembership
    request_path: '{{ org_service_prefix }}/v1/member/update'
    upstream_url: '{{ learning_service_url }}/v1/org/member/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: echo
    request_path: '{{ echo_service_prefix }}'
    upstream_url: '{{ echo_service_url }}'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: echoUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createPageSection
    request_path: '{{ data_service_prefix }}/v1/page/section/create'
    upstream_url: '{{ learning_service_url }}/v1/page/section/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updatePageSection
    request_path: '{{ data_service_prefix }}/v1/page/section/update'
    upstream_url: '{{ learning_service_url }}/v1/page/section/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: listPageSections
    request_path: '{{ data_service_prefix }}/v1/page/section/list'
    upstream_url: '{{ learning_service_url }}/v1/page/section/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readPageSection
    request_path: '{{ data_service_prefix }}/v1/page/section/read'
    upstream_url: '{{ learning_service_url }}/v1/page/section/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readRoleMapping
    request_path: '{{ data_service_prefix }}/v1/role/read'
    upstream_url: '{{ learning_service_url }}/v1/role/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateAssessment
    request_path: '{{ course_service_prefix }}/v1/assessment/update'
    upstream_url: '{{ learning_service_url }}/v1/assessment/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readAssessmentResult
    request_path: '{{ course_service_prefix }}/v1/assessment/result/read'
    upstream_url: '{{ learning_service_url }}/v1/assessment/result/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: approveOrg
    request_path: '{{ org_service_prefix }}/v1/approve'
    upstream_url: '{{ learning_service_url }}/v1/org/approve '
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateOrgStatus
    request_path: '{{ org_service_prefix }}/v1/status/update'
    upstream_url: '{{ learning_service_url }}/v1/org/status/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: readUserProfile
    request_path: '{{ user_service_prefix }}/v1/profile/read'
    upstream_url: '{{ learning_service_url }}/v1/user/getuser'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: registerMobileApp
    request_path: '{{ api_manager_perfix }}/v1/consumer/mobile_app/credential/register'
    upstream_url: '{{ am_util_url }}/v1/consumer/mobile_app/credential/register'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: mobileAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: registerMobileDevice
    request_path: '{{ api_manager_perfix }}/v1/consumer/mobile_device/credential/register'
    upstream_url: '{{ am_util_url }}/v1/consumer/mobile_device/credential/register'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: mobileApp
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: joinOrg
    request_path: '{{ org_service_prefix }}/v1/member/join'
    upstream_url: '{{ learning_service_url }}/v1/org/member/join'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: approveOrgRequest
    request_path: '{{ org_service_prefix }}/v1/member/approve'
    upstream_url: '{{ learning_service_url }}/v1/org/member/approve'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: rejectOrgRequest
    request_path: '{{ org_service_prefix }}/v1/member/reject'
    upstream_url: '{{ learning_service_url }}/v1/org/member/reject'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: compositeSearch
    request_path: '{{ composite_service_prefix }}/v1/search'
    upstream_url: '{{ content_service_url }}/v1/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: listTerms
    request_path: '{{ meta_service_prefix }}/v1/terms/list'
    upstream_url: '{{ content_service_url }}/v1/terms/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: listResourceBundles
    request_path: '{{ meta_service_prefix }}/v1/resourcebundles/list'
    upstream_url: '{{ content_service_url }}/v1/resourcebundles/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: listOrdinals
    request_path: '{{ meta_service_prefix }}/v1/ordinals/list'
    upstream_url: '{{ content_service_url }}/v1/ordinals/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: configUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: telemetry
    request_path: '{{ data_service_prefix }}/v1/telemetry'
    upstream_url: '{{ content_service_url }}/v1/telemetry'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: flagContent
    request_path: '{{ content_service_prefix }}/v1/flag'
    upstream_url: '{{ content_service_url }}/v1/content/flag'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: acceptContentFlag
    request_path: '{{ content_service_prefix }}/v1/flag/accept'
    upstream_url: '{{ content_service_url }}/v1/content/flag/accept'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: rejectContentFlag
    request_path: '{{ content_service_prefix }}/v1/flag/reject'
    upstream_url: '{{ content_service_url }}/v1/content/flag/reject'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getOrgCreationDashboard
    request_path: '{{ dashboard_service_prefix }}/v1/creation/org'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/creation/org'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getOrgConsumptionDashboard
    request_path: '{{ dashboard_service_prefix }}/v1/consumption/org'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/consumption/org'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getCourseProgressDashboard
    request_path: '{{ dashboard_service_prefix }}/v1/progress/course'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/progress/course'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getCourseConsumptionDashboard
    request_path: '{{ dashboard_service_prefix }}/v1/consumption/course'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/consumption/course'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getUserCreationDashboard
    request_path: '{{ dashboard_service_prefix }}/v1/creation/user'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/creation/user'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getUserConsumptionDasbhoard
    request_path: '{{ dashboard_service_prefix }}/v1/consumption/user'
    upstream_url: '{{ learning_service_url }}/v1/dashboard/consumption/user'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: userBulkUpload
    request_path: '{{ user_service_prefix }}/v1/upload'
    upstream_url: '{{ learning_service_url }}/v1/user/upload'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: orgBulkUpload
    request_path: '{{ org_service_prefix }}/v1/upload'
    upstream_url: '{{ learning_service_url }}/v1/org/upload'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: checkUploadJobStatus
    request_path: '{{ data_service_prefix }}/v1/upload/status'
    upstream_url: '{{ learning_service_url }}/v1/upload/status'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createBatch
    request_path: '{{ course_service_prefix }}/v1/batch/create'
    upstream_url: '{{ learning_service_url }}/v1/course/batch/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateBatch
    request_path: '{{ course_service_prefix }}/v1/batch/update'
    upstream_url: '{{ learning_service_url }}/v1/course/batch/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: addUserToBatch
    request_path: '{{ course_service_prefix }}/v1/batch/user/add'
    upstream_url: '{{ learning_service_url }}/v1/course/batch/users/add'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getBatch
    request_path: '{{ course_service_prefix }}/v1/batch/read'
    upstream_url: '{{ learning_service_url }}/v1/course/batch/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: assignRole
    request_path: '{{ org_service_prefix }}/v1/role/assign'
    upstream_url: '{{ learning_service_url }}/v1/user/assign/role'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: indexSync
    request_path: '{{ data_service_prefix }}/v1/index/sync'
    upstream_url: '{{ learning_service_url }}/v1/data/sync'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: blockUser
    request_path: '{{ user_service_prefix }}/v1/block'
    upstream_url: '{{ learning_service_url }}/v1/user/block'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: unblockUser
    request_path: '{{ user_service_prefix }}/v1/unblock'
    upstream_url: '{{ learning_service_url }}/v1/user/unblock'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: uploadMedia
    request_path: '{{ content_service_prefix }}/v1/media/upload'
    upstream_url: '{{ learning_service_url }}/v1/file/upload'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: listCourseBatches
    request_path: '{{ course_service_prefix }}/v1/batch/list'
    upstream_url: '{{ learning_service_url }}/v1/course/batch/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: courseUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: batchBulkEnrolment
    request_path: '{{ course_service_prefix }}/v1/batch/bulk/enrollment'
    upstream_url: '{{ learning_service_url }}/v1/batch/bulk/enrollment'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getTenantInfo
    request_path: '{{ org_service_prefix }}/v1/tenant/info'
    upstream_url: '{{ player_service_url }}/v1/tenant/info'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getContentUploadUrl
    request_path: '{{ content_service_prefix }}/v1/upload/url/read'
    upstream_url: '{{ content_service_url }}/v1/content/upload/url'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: rejectContent
    request_path: '{{ content_service_prefix }}/v1/reject'
    upstream_url: '{{ content_service_url }}/v1/content/reject'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: contentAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: deleteNote
    request_path: '{{ notes_service_prefix }}/v1/delete'
    upstream_url: '{{ learning_service_url }}/v1/note/delete'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: noteAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: sendEmailNotification
    request_path: '{{ user_service_prefix }}/v1/notification/email'
    upstream_url: '{{ learning_service_url }}/v1/notification/email'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: listAllBadges
    request_path: '{{ org_service_prefix }}/v1/badges/list'
    upstream_url: '{{ learning_service_url }}/v1/badges/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: addBadgeToUser
    request_path: '{{ user_service_prefix }}/v1/badges/add'
    upstream_url: '{{ learning_service_url }}/v1/user/badges/add'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: listOrgTypes
    request_path: '{{ org_service_prefix }}/v1/type/list'
    upstream_url: '{{ learning_service_url }}/v1/org/type/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: createOrgType
    request_path: '{{ org_service_prefix }}/v1/type/create'
    upstream_url: '{{ learning_service_url }}/v1/org/type/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: updateOrgType
    request_path: '{{ org_service_prefix }}/v1/type/update'
    upstream_url: '{{ learning_service_url }}/v1/org/type/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: updateUserloginTime
    request_path: '{{ user_service_prefix }}/v1/update/logintime'
    upstream_url: '{{ learning_service_url }}/v1/user/update/logintime'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: userAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getMediaTypes
    request_path: '{{ user_service_prefix }}/v1/mediatype/list'
    upstream_url: '{{ learning_service_url }}/v1/user/mediatype/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: DecryptData
    request_path: '{{ data_service_prefix }}/v1/user/decrypt'
    upstream_url: '{{ learning_service_url }}/v1/user/data/decrypt'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: encryptData
    request_path: '{{ data_service_prefix }}/v1/user/encrypt'
    upstream_url: '{{ learning_service_url }}/v1/user/data/encrypt'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: searchAuditHistory
    request_path: '{{ data_service_prefix }}/v1/audit/history'
    upstream_url: '{{ learning_service_url }}/v1/audit/history'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: appAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: forgotpassword
    request_path: '{{ user_service_prefix }}/v1/forgotpassword'
    upstream_url: '{{ learning_service_url }}/v1/user/forgotpassword'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: userLogin
    request_path: '{{ user_service_prefix }}/v1/login'
    upstream_url: '{{ learning_service_url }}/v1/user/login'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: changePassword
    request_path: '{{ user_service_prefix }}/v1/changepassword'
    upstream_url: '{{ learning_service_url }}/v1/user/changepassword'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: Logout
    request_path: '{{ user_service_prefix }}/v1/logout'
    upstream_url: '{{ learning_service_url }}/v1/user/logout'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: addUserSkill
    request_path: '{{ user_service_prefix }}/v1/skill/add'
    upstream_url: '{{ learning_service_url }}/v1/user/skill/add'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getUserSkill
    request_path: '{{ user_service_prefix }}/v1/skill/read'
    upstream_url: '{{ learning_service_url }}/v1/user/skill/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getSkills
    request_path: '{{ data_service_prefix }}/v1/skills'
    upstream_url: '{{ learning_service_url }}/v1/skills'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getAllData
    request_path: '{{ data_service_prefix }}/v1/object/read/list'
    upstream_url: '{{ learning_service_url }}/v1/object/read/list'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getData
    request_path: '{{ data_service_prefix }}/v1/object/read'
    upstream_url: '{{ learning_service_url }}/v1/object/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: createData
    request_path: '{{ data_service_prefix }}/v1/object/create'
    upstream_url: '{{ learning_service_url }}/v1/object/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ large_request_size_limit }}'
  - name: updateData
    request_path: '{{ data_service_prefix }}/v1/object/update'
    upstream_url: '{{ learning_service_url }}/v1/object/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: deleteData
    request_path: '{{ data_service_prefix }}/v1/object/delete'
    upstream_url: '{{ learning_service_url }}/v1/object/delete'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: searchData
    request_path: '{{ data_service_prefix }}/v1/object/search'
    upstream_url: '{{ learning_service_url }}/v1/object/search'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ large_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ medium_request_size_limit }}'
  - name: getAnnouncementDefinitions
    request_path: '{{announcement_service_prefix}}/v1/definitions'
    upstream_url: '{{ player_service_url }}/announcement/v1/definitions'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createAnnouncement
    request_path: '{{announcement_service_prefix}}/v1/create'
    upstream_url: '{{ player_service_url }}/announcement/v1/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: cancelAnnouncement
    request_path: '{{announcement_service_prefix}}/v1/cancel'
    upstream_url: '{{ player_service_url }}/announcement/v1/cancel'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getAnnouncementInbox
    request_path: '{{announcement_service_prefix}}/v1/user/inbox'
    upstream_url: '{{ player_service_url }}/announcement/v1/user/inbox'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getAnnouncementOutbox
    request_path: '{{announcement_service_prefix}}/v1/user/outbox'
    upstream_url: '{{ player_service_url }}/announcement/v1/user/outbox'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getAnnouncement
    request_path: '{{announcement_service_prefix}}/v1/get'
    upstream_url: '{{ player_service_url }}/announcement/v1/get'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'

  - name: registerClient
    request_path: '{{ data_service_prefix }}/v1/client/register'
    upstream_url: '{{ learning_service_url }}/v1/client/register'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateClientKey
    request_path: '{{ data_service_prefix }}/v1/client/key/update'
    upstream_url: '{{ learning_service_url }}/v1/client/key/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getClientKey
    request_path: '{{ data_service_prefix }}/v1/client/key/read'
    upstream_url: '{{ learning_service_url }}/v1/client/key/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getTenantPreference
    request_path: '{{ org_service_prefix }}/v1/tc/read'
    upstream_url: '{{ learning_service_url }}/v1/org/tc/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createTenantPreference
    request_path: '{{ org_service_prefix }}/v1/tc/create'
    upstream_url: '{{ learning_service_url }}/v1/org/tc/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateTenantPreference
    request_path: '{{ org_service_prefix }}/v1/tc/update'
    upstream_url: '{{ learning_service_url }}/v1/org/tc/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateUserTcStatus
    request_path: '{{ user_service_prefix }}/v1/tc/update'
    upstream_url: '{{ learning_service_url }}/v1/user/tc/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: createLocation
    request_path: '{{ org_service_prefix }}/v1/location/create'
    upstream_url: '{{ learning_service_url }}/v1/location/create'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: getLocation
    request_path: '{{ org_service_prefix }}/v1/location/read'
    upstream_url: '{{ learning_service_url }}/v1/location/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: deleteLocation
    request_path: '{{ org_service_prefix }}/v1/location/delete'
    upstream_url: '{{ learning_service_url }}/v1/location/delete'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: updateLocation
    request_path: '{{ org_service_prefix }}/v1/location/update'
    upstream_url: '{{ learning_service_url }}/v1/location/update'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: orgAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: profileVisibility
    request_path: '{{ user_service_prefix }}/v1/profile/visibility'
    upstream_url: '{{ learning_service_url }}/v1/user/profile/visibility'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: sendNotification
    request_path: '{{ data_service_prefix }}/v1/notification/send'
    upstream_url: '{{ learning_service_url }}/v1/notification/send'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: announcementResend
    request_path: '{{ announcement_service_prefix }}/v1/resend'
    upstream_url: '{{ player_service_url }}/announcement/v1/resend'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: announcementReceived
    request_path: '{{ announcement_service_prefix }}/v1/received'
    upstream_url: '{{ player_service_url }}/announcement/v1/received'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: announcementRead
    request_path: '{{ announcement_service_prefix }}/v1/read'
    upstream_url: '{{ player_service_url }}/announcement/v1/read'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: publicUser
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}'
  - name: metricsSearchData
    request_path: '{{ data_service_prefix }}/v1/object/metrics'
    upstream_url: '{{ learning_service_url }}/v1/object/metrics'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}' 
  - name: updateSystemSettings
    request_path: '{{ data_service_prefix }}/v1/system/settings'
    upstream_url: '{{ learning_service_url }}/v1/system/settings'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}' 
  - name: getAudienceCount
    request_path: '{{ data_service_prefix }}/v1/notification/audience'
    upstream_url: '{{ learning_service_url }}/v1/notification/audience'
    strip_request_path: true
    plugins:
    - name: jwt
    - name: cors
    - '{{ statsd_pulgin }}'
    - name: acl
      config.whitelist: dataAdmin
    - name: rate-limiting
      config.hour: '{{ medium_rate_limit_per_hour }}'
      config.limit_by: credential
    - name: request-size-limiting
      config.allowed_payload_size: '{{ small_request_size_limit }}' 	
