- name: installing repo for open jdk in Ubuntu
  apt_repository: repo='ppa:openjdk-r/ppa'
  tags:
    - provision

- name: ensure oracle jdk 8 is absent
  apt: name='oracle-java8-installer' state=absent
  tags:
    - provision

- name: ensure oracle jdk 8 set default is absent
  apt: name='oracle-java8-set-default' state=absent
  tags:
    - provision

- name: ensure oracle jdk 8 set default is absent
  apt: name='openjdk-8-jre-headless' state=absent
  tags:
    - provision

- name: ensure openjdk 8 is present
  apt: name='openjdk-8-jre-headless={{ java_version }}' state=present
  tags:
    - provision

